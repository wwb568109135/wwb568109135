{
	"data": {
			"name": "page1",
			"id": 111,
			"page_type_id": 0,
			"moduleList": [{
					"template":"<div class=\"plugin-brand\"><\/div>","css":".tpl-brand-mask{pointer-events:none;}\n.tpl-brand-mask .tpl_pic::before{content:'\u5546\u54c1\u5373\u5c06\u63ed\u6653';position:absolute;top:0;left:0;overflow:hidden;width:100%;height:100%;line-height:9999em;background:rgba(0,0,0,0.5) url(http:\/\/mzt.vip.com\/uploadfiles\/exclusive_subject\/te\/v1\/te15329\/te_res\/images\/icon-mask.png) no-repeat center;background-size:contain; z-index: 1;}\n.tpl-brand-mask .tpl_btn_fav{pointer-events:auto;}\n\n.mzt-o-item .tpl_brand::after, .mzt-o-item .shop_list::after {\n  background: #ff3c80 url(http:\/\/mzt.vip.com\/uploadfiles\/exclusive_subject\/te\/v1\/te15439\/te_res\/images\/last.jpg) no-repeat center;\n  background-size: contain;\n}\n\n.notify-tips {width: 200px; padding: 20px 10px; margin: -25px 0 0 -120px; font-size: 18px; line-height: 30px; text-align: center; color: #fff; background: rgba(0, 0, 0, 0.6); position: fixed; left: 50%; top: 50%; display: none;}","js":"\/\/\u52a0\u8f7d\u66f4\u591a\n\t\t\tvar html = '',\n\t\t\t    isInSale = VIP.isInSale(config.page_data.start_time),\n\t\t\t    wrap = $('<div class=\"mzt-frame-column2 '+ (isInSale ? 'mzt-frame-sale' : 'mzt-frame-view') +'\"> <div class=\"mzt-floor\"> <div class=\"mzt-o-item\"> <div class=\"mzt-list-wrap\"> <div class=\"mzt-list\" data-img-class=\"picbrandlazyload\"> <\/div> <\/div> <\/div> <\/div> <\/div>'),\n\t\t\t    defaultParam = VIP.defaultParam,\n\t\t\t    moreHtml = '<div class=\"u-loading u-more-btn J_pager_more\">\u67e5\u770b\u66f4\u591a\u5546\u54c1<\/div>',\n\t\t\t    intfHost = typeof testEnvironment != 'undefined' ? '' : 'http:\/\/mzt.vip.com',\n\t\t\t    tipsHtml = '<div id=\"J_notify_tips\" class=\"notify-tips\"><\/div>',\n\t\t\t    defaultModel = {\n\t\t\t\t\t\"is_click\" : true,\n\t\t\t\t\t\"is_coupon\" : true,\n\t\t\t\t\t\"is_collect\" : false,\n\t\t\t\t\t\"is_watermark\" : false,\n\t\t\t\t\t\"watermark\" : \"\"\n\t\t\t    },\n\t\t\t    el;\n\n\t\t\t\/\/\u6ca1\u6709\u6570\u636e\u5904\u7406\n\t\t\tif (Array.isArray(config.model) || config.model === false) {\n\t\t\t    return\n\t\t\t}\n\n\t\t\tdom = dom.find('.plugin-brand').attr('data-module-type', config.module_type_id);\n\t\t\twrap.appendTo(dom);\n\t\t\tel = dom.find('.mzt-list:eq(0)');\n\t\t\tif(config.extend){\n\t\t\t\t($('#J_pager_more').length == 0 && config.extend.page.isPaging) && dom.append(moreHtml);\n\t\t\t}\n\n\t\t\t$('#J_notify_tips').length == 0 && dom.append(tipsHtml);\n\n\t\t\t\/\/ \u4e8b\u4ef6\u4ee3\u7406\u7ed9\u7236\u7ea7\n\t\t\tel.bind('click',function (e) {\n\t\t\t    var $target = $(e.target);\n\n\t\t\t    if($target.hasClass('tpl_btn_fav')){\n\t\t\t        e.preventDefault();\n\n\t\t\t        var $parent = $target.parent(),\n\t\t\t            type = $parent.attr('data-favorite-status-brand-action-type'),\n\t\t\t            id = $parent.attr('data-favorite-status-brand-ids'),\n\t\t\t            sn = $parent.attr('data-favorite-status-brand-sn');\n\n\t\t\t        \/\/ \u5f53\u54c1\u724c\u4e0d\u4e3a\u7a7a\u7684\u65f6\u5019\u624d\u80fd\u6536\u85cf\n\t\t\t        if(sn){\n\t\t\t            Collection.setCollection(type,id,sn);\n\t\t\t        }\n\t\t\t    }\n\t\t\t});\n\n\t\t\t\/\/\u68c0\u67e5\u662f\u5426\u4e3a\u6700\u540e\u4e00\u4e2a\u6a21\u5757\n\t\t\tVIP.checkLastModule(config);\n\n\t\t\t\/\/ console.log(config);\n\n\t\t\t\/**\n\t\t\t * \u6536\u85cf\u529f\u80fd Collection\n\t\t\t * notify_tips \u63d0\u793a\u4fe1\u606f\n\t\t\t * getCollectionList \u83b7\u53d6\u7528\u6237\u6536\u85cf\u7684\u54c1\u724c\n\t\t\t * setCollection \u6536\u85cf\/\u53d6\u6d88\u6536\u85cf\u529f\u80fd\n\t\t\t * setCollectionHtml \u6536\u85cf\u540e\u6539\u53d8Html\u7ed3\u6784\n\t\t\t *\/\n\t\t\twindow.Collection = {\n\t\t\t    getCollectionList : function (item_id,client,warehouse) {\n\t\t\t        var url = intfHost + '\/index.php\/Special\/getFavouriteServiceList?verstr='+ defaultParam.verstr;\n\n\t\t\t        $.ajax({\n\t\t\t            url: url,\n\t\t\t            dataType: 'jsonp',\n\t\t\t            jsonpCallback: 'getCollectionListCallback',\n\t\t\t            success: function(data) {\n\t\t\t            \tvar brand = data.data;\n\n\t\t\t            \t$.each(brand,function (key,value) {\n\t\t\t            \t    Collection.setCollectionHtml(value.brand_id,value.brand_store_sn,'add');\n\t\t\t            \t})\n\t\t\t            }\n\t\t\t        });\n\t\t\t    },\n\t\t\t    setCollection : function(type, brand_id, brand_sn) {\n\t\t\t        window.event.preventDefault();\n\n\t\t\t        var _this = this;\n\n\t\t\t        var url = intfHost + '\/index.php\/Special\/favouriteService?verstr='+ defaultParam.verstr +'&act='+ type +'&client=oauth&brand_sn='+ brand_sn +'&brand_id='+ brand_id +'&source=1';\n\n\t\t\t        $.ajax({\n\t\t\t            url: url,\n\t\t\t            dataType: 'jsonp',\n\t\t\t            jsonpCallback : 'setCollectionCallback',\n\t\t\t            success: function(data) {\n\t\t\t            \tvar res,msg;\n\n\t\t\t            \tif(data.result){\n\t\t\t            \t\tres = data.data;\n\n\t\t\t            \t\tif(data.code == 1){\n\t\t\t            \t\t\tif(res.pms_msg){\n\t\t\t            \t\t\t\tmsg = res.pms_msg;\n\t\t\t            \t\t\t}else{\n\t\t\t            \t\t\t\tmsg = res.type == 'add' ? '\u53d6\u6d88\u6536\u85cf\u6210\u529f\uff01' : '\u6536\u85cf\u6210\u529f\uff01';\n\t\t\t            \t\t\t}\n\t\t\t            \t\t}else{\n\t\t\t            \t\t\tmsg = '\u6536\u85cf\u5931\u8d25!\u8bf7\u7a0d\u540e\u518d\u8bd5\u3002';\n\t\t\t            \t\t}\n\n\t\t\t            \t\tVIP.notify_tips(msg, 2000);\n\t\t\t            \t\t_this.setCollectionHtml(res.brand_id,res.brand_sn,type);\n\t\t\t            \t}else{\n\t\t\t            \t\tif (!data.login && data._redirect != '') {\n\t\t\t            \t\t    window.location.href = data._redirect;\n\t\t\t            \t\t    return false;\n\t\t\t            \t\t} else {\n\t\t\t            \t\t    VIP.notify_tips(data.msg, 2000);\n\t\t\t            \t\t}\n\t\t\t            \t}\n\t\t\t            }\n\t\t\t        });\n\t\t\t    },\n\t\t\t    setCollectionHtml : function (id,sn,type) {\n\t\t\t        var $fav = $('[data-favorite-status-brand-ids=' + id + ']');\n\n\t\t\t        if (type == 'add') {\n\t\t\t            $fav.attr('data-favorite-status-brand-action-type', 'cancel');\n\t\t\t            $fav.find('span').addClass('off');\n\t\t\t        } else if (type == 'cancel') {\n\t\t\t            $fav.attr('data-favorite-status-brand-action-type', 'add');\n\t\t\t            $fav.find('span').removeClass('off');\n\t\t\t        }\n\t\t\t    },\n\t\t\t    getCouponStatus : function (brand_ids) {\n\t\t\t        var url = intfHost + '\/index.php\/Special\/getCoupon?brand_ids='+ brand_ids +'&mars_cid='+ defaultParam.mars_cid +'&wap_consumer=' + defaultParam.wap_consumer;\n\n\t\t\t        $.ajax({\n\t\t\t            url: url,\n\t\t\t            dataType: 'jsonp',\n\t\t\t            jsonpCallback : 'getCouponStatusCallback',\n\t\t\t            success: function(data) {\n\t\t\t            \t$.each(data.data,function (key,value) {\n\t\t\t            \t    $('#L_coupon_'+ value).show();\n\t\t\t            \t})\n\t\t\t            }\n\t\t\t        });\n\t\t\t    }\n\t\t\t};\n\n\t\t\t\/\/ \u5206\u9875\u540e\u5904\u7406\u6570\u636e\n\t\t\tfunction renderPage (res,el) {\n\t\t\t    var tmpl = '<div class=\"tpl_brand {{if !is_click}}tpl-brand-mask{{\/if}}\"> <a href=\"${url}\"> <div class=\"tpl_pic\"><img class=\"picbrandlazyload\" src=\"${mobile_image_two}\" style=\"display: block;\"><span class=\"s_info_desc\">${pms_activetips}<\/span><span id=\"L_coupon_${brand_id}\" class=\"coupon\" style=\"display:none;\"><\/span><\/div> <div class=\"tpl_brand_msg rposition\"> <p class=\"tpl_brand_name\">${brand_name}<\/p> <p class=\"tpl_brand_discount\"><span class=\"salebg2\">{{html agio}}<\/p> {{if is_collect}} <p class=\"tpl_brand_fav\"><span class=\"brand_fav_num\" id=\"L_favorite_${brand_id}\" data-favorite-brand-ids=\"${brand_id}\" data-favorite-brand-sn=\"${brand_store_sn}\">0<\/span><span id=\"L_favorite_txt${brand_id}\" data-favorite-txt-brand-sn=\"${brand_store_sn}\">\u4eba\u6536\u85cf<\/span><\/p> {{\/if}} <\/div> {{if !isInSale}}<span data-favorite-status-brand-sn=\"${brand_store_sn}\" data-favorite-status-brand-ids=\"${brand_id}\" data-favorite-status-brand-action-type=\"add\" id=\"L_favorite_status_${brand_id}\"><span class=\"tpl_btn_fav\"><\/span><\/span>{{\/if}}  <\/a> <\/div>',\n\t\t\t        frag = document.createDocumentFragment(),\n\t\t\t        brands = [],\n\t\t\t        offset = res.extend ? 0 : (res.page ? res.page.offset : 0),\n\t\t\t        html ;\n\n\t\t\t    $.each(res.data, function(i) {\n\t\t\t    \tvar index = offset + i,\n\t\t\t    \t\tlist = config.model ? config.model.list[index] : defaultModel;\n\n\t\t\t        this.url = 'http:\/\/m.vip.com\/preheating-brand-' + this.brand_id + '-0-0-1-40.html';\n\n\t\t\t        this.mobile_image_two = 'http:\/\/a.appsimg.com\/upload\/brand\/' + VIP.getClientImageSrc(this.mobile_image_two);\n\n\t\t\t        $.extend(this, list, {isInSale : isInSale});\n\n\t\t\t        if(this.is_coupon){\n\t\t\t            brands.push(this.brand_id);\n\t\t\t        }\n\n\t\t\t        html = $.tmpl(tmpl, this);\n\n\t\t\t        $(frag).append(html);\n\t\t\t    });\n\n\t\t\t    el.append(frag);\n\n\t\t\t    if(!isInSale){\n\t\t\t        Collection.getCollectionList(defaultParam.item_id,defaultParam.client,defaultParam.warehouse);\n\n\t\t\t        \/\/ \u5f53\u540e\u53f0\u6709\u8bbe\u7f6e\u663e\u793a\u7ea2\u5305\u7684\u72b6\u6001\uff0c\u624d\u5339\u914d\u7ea2\u5305\u72b6\u6001\n\t\t\t        if(brands.length > 0){\n\t\t\t            Collection.getCouponStatus(brands);\n\t\t\t        }\n\t\t\t    }\n\t\t\t};\n\n\t\t\t\/\/ \u9996\u6b21\u52a0\u8f7d\u8c03\u7528\uff0c\u9ed8\u8ba4\u663e\u793a\u6570\u636e\n\t\t\trenderPage(config,el);\n\n\t\t\t\/\/ \u5f53\u6863\u671f\u8bbe\u7f6e\u4e86\u5206\u9875\u7684\u65f6\u5019\uff0c\u624d\u4f1a\u6709\u6eda\u52a8\u52a0\u8f7d\u529f\u80fd\n\t\t\tif(config.isLast && config.extend && config.extend.page.isPaging){\n\t\t\t    VIP.loadScript('\/demo\/js\/page.js',function () {\n\t\t\t        VIP.pager.config({\n\t\t\t            el : el,\n\n\t\t\t            reqData : {\n\t\t\t            \tpage_id : config.page_data.page_id,\n\t\t\t            \tfloor : config.floor\n\t\t\t            },\n\n\t\t\t            page : {},\n\n\t\t\t            url : '\/index.php\/Special\/getBrandData',\n\n\t\t\t            init : function(){\n\t\t\t                this.page.limit = config.extend.page.limit;\n\t\t\t                this.page.offset = config.extend.page.offset;\n\t\t\t                \/\/ this.reqData.query = this.more.data('query');\n\t\t\t            },\n\n\t\t\t            render : function(data,res){\n\t\t\t                renderPage(res,this.el);\n\t\t\t            }\n\t\t\t        });\n\t\t\t    });\n\t\t\t}",
					"module_type_id":"nav",
					"style_group_id":"30",
					"style_cate_id":"29",
					"style_group":"\u6863\u671f\u697c\u5c42",
					"model":{
						"total" : "6", 
						"per_line" : "3",
						"phone_pic_src" : "http://placehold.it/320x100/000",
						"pad_pic_src" : "http://placehold.it/640x150/333",
						"list" : [
							{
								"type" : 1,
								"url" : "http://m.vip.com/index.php?m=special&p=/te/v1/s22402_all_index.php&h=mzt.vip.com&wapid=mzt_22402",
								"title" : "测试标题",
								"brand_id" : "",
								"product_id" : "",
								"isBlank": "true"
							},
							{
								"type" :4,
								"url" : "m1",
								"title" : "",
								"brand_id" : "",
								"product_id" : ""
							},
							{
								"type" :4,
								"url" : "m2",
								"title" : "",
								"brand_id" : "",
								"product_id" : ""
							}
						]
					},
					"id":"129",
					"page_data":{"start_time":"2015-05-28 10:00:00","end_time":"2015-05-29 09:59:59"},
					"special_data":{"start_time":"0000-00-00 00:00:00","end_time":"0000-00-00 00:00:00"},
					"floor":"1f"
				}, {
					"template":"<div class=\"plugin-brand\"><\/div>","css":".tpl-brand-mask{pointer-events:none;}\n.tpl-brand-mask .tpl_pic::before{content:'\u5546\u54c1\u5373\u5c06\u63ed\u6653';position:absolute;top:0;left:0;overflow:hidden;width:100%;height:100%;line-height:9999em;background:rgba(0,0,0,0.5) url(http:\/\/mzt.vip.com\/uploadfiles\/exclusive_subject\/te\/v1\/te15329\/te_res\/images\/icon-mask.png) no-repeat center;background-size:contain; z-index: 1;}\n.tpl-brand-mask .tpl_btn_fav{pointer-events:auto;}\n\n.mzt-o-item .tpl_brand::after, .mzt-o-item .shop_list::after {\n  background: #ff3c80 url(http:\/\/mzt.vip.com\/uploadfiles\/exclusive_subject\/te\/v1\/te15439\/te_res\/images\/last.jpg) no-repeat center;\n  background-size: contain;\n}\n\n.notify-tips {width: 200px; padding: 20px 10px; margin: -25px 0 0 -120px; font-size: 18px; line-height: 30px; text-align: center; color: #fff; background: rgba(0, 0, 0, 0.6); position: fixed; left: 50%; top: 50%; display: none;}","js":"\/\/\u52a0\u8f7d\u66f4\u591a\n\t\t\tvar html = '',\n\t\t\t    isInSale = VIP.isInSale(config.page_data.start_time),\n\t\t\t    wrap = $('<div class=\"mzt-frame-column2 '+ (isInSale ? 'mzt-frame-sale' : 'mzt-frame-view') +'\"> <div class=\"mzt-floor\"> <div class=\"mzt-o-item\"> <div class=\"mzt-list-wrap\"> <div class=\"mzt-list\" data-img-class=\"picbrandlazyload\"> <\/div> <\/div> <\/div> <\/div> <\/div>'),\n\t\t\t    defaultParam = VIP.defaultParam,\n\t\t\t    moreHtml = '<div class=\"u-loading u-more-btn J_pager_more\">\u67e5\u770b\u66f4\u591a\u5546\u54c1<\/div>',\n\t\t\t    intfHost = typeof testEnvironment != 'undefined' ? '' : 'http:\/\/mzt.vip.com',\n\t\t\t    tipsHtml = '<div id=\"J_notify_tips\" class=\"notify-tips\"><\/div>',\n\t\t\t    defaultModel = {\n\t\t\t\t\t\"is_click\" : true,\n\t\t\t\t\t\"is_coupon\" : true,\n\t\t\t\t\t\"is_collect\" : false,\n\t\t\t\t\t\"is_watermark\" : false,\n\t\t\t\t\t\"watermark\" : \"\"\n\t\t\t    },\n\t\t\t    el;\n\n\t\t\t\/\/\u6ca1\u6709\u6570\u636e\u5904\u7406\n\t\t\tif (Array.isArray(config.model) || config.model === false) {\n\t\t\t    return\n\t\t\t}\n\n\t\t\tdom = dom.find('.plugin-brand').attr('data-module-type', config.module_type_id);\n\t\t\twrap.appendTo(dom);\n\t\t\tel = dom.find('.mzt-list:eq(0)');\n\t\t\tif(config.extend){\n\t\t\t\t($('#J_pager_more').length == 0 && config.extend.page.isPaging) && dom.append(moreHtml);\n\t\t\t}\n\n\t\t\t$('#J_notify_tips').length == 0 && dom.append(tipsHtml);\n\n\t\t\t\/\/ \u4e8b\u4ef6\u4ee3\u7406\u7ed9\u7236\u7ea7\n\t\t\tel.bind('click',function (e) {\n\t\t\t    var $target = $(e.target);\n\n\t\t\t    if($target.hasClass('tpl_btn_fav')){\n\t\t\t        e.preventDefault();\n\n\t\t\t        var $parent = $target.parent(),\n\t\t\t            type = $parent.attr('data-favorite-status-brand-action-type'),\n\t\t\t            id = $parent.attr('data-favorite-status-brand-ids'),\n\t\t\t            sn = $parent.attr('data-favorite-status-brand-sn');\n\n\t\t\t        \/\/ \u5f53\u54c1\u724c\u4e0d\u4e3a\u7a7a\u7684\u65f6\u5019\u624d\u80fd\u6536\u85cf\n\t\t\t        if(sn){\n\t\t\t            Collection.setCollection(type,id,sn);\n\t\t\t        }\n\t\t\t    }\n\t\t\t});\n\n\t\t\t\/\/\u68c0\u67e5\u662f\u5426\u4e3a\u6700\u540e\u4e00\u4e2a\u6a21\u5757\n\t\t\tVIP.checkLastModule(config);\n\n\t\t\t\/\/ console.log(config);\n\n\t\t\t\/**\n\t\t\t * \u6536\u85cf\u529f\u80fd Collection\n\t\t\t * notify_tips \u63d0\u793a\u4fe1\u606f\n\t\t\t * getCollectionList \u83b7\u53d6\u7528\u6237\u6536\u85cf\u7684\u54c1\u724c\n\t\t\t * setCollection \u6536\u85cf\/\u53d6\u6d88\u6536\u85cf\u529f\u80fd\n\t\t\t * setCollectionHtml \u6536\u85cf\u540e\u6539\u53d8Html\u7ed3\u6784\n\t\t\t *\/\n\t\t\twindow.Collection = {\n\t\t\t    getCollectionList : function (item_id,client,warehouse) {\n\t\t\t        var url = intfHost + '\/index.php\/Special\/getFavouriteServiceList?verstr='+ defaultParam.verstr;\n\n\t\t\t        $.ajax({\n\t\t\t            url: url,\n\t\t\t            dataType: 'jsonp',\n\t\t\t            jsonpCallback: 'getCollectionListCallback',\n\t\t\t            success: function(data) {\n\t\t\t            \tvar brand = data.data;\n\n\t\t\t            \t$.each(brand,function (key,value) {\n\t\t\t            \t    Collection.setCollectionHtml(value.brand_id,value.brand_store_sn,'add');\n\t\t\t            \t})\n\t\t\t            }\n\t\t\t        });\n\t\t\t    },\n\t\t\t    setCollection : function(type, brand_id, brand_sn) {\n\t\t\t        window.event.preventDefault();\n\n\t\t\t        var _this = this;\n\n\t\t\t        var url = intfHost + '\/index.php\/Special\/favouriteService?verstr='+ defaultParam.verstr +'&act='+ type +'&client=oauth&brand_sn='+ brand_sn +'&brand_id='+ brand_id +'&source=1';\n\n\t\t\t        $.ajax({\n\t\t\t            url: url,\n\t\t\t            dataType: 'jsonp',\n\t\t\t            jsonpCallback : 'setCollectionCallback',\n\t\t\t            success: function(data) {\n\t\t\t            \tvar res,msg;\n\n\t\t\t            \tif(data.result){\n\t\t\t            \t\tres = data.data;\n\n\t\t\t            \t\tif(data.code == 1){\n\t\t\t            \t\t\tif(res.pms_msg){\n\t\t\t            \t\t\t\tmsg = res.pms_msg;\n\t\t\t            \t\t\t}else{\n\t\t\t            \t\t\t\tmsg = res.type == 'add' ? '\u53d6\u6d88\u6536\u85cf\u6210\u529f\uff01' : '\u6536\u85cf\u6210\u529f\uff01';\n\t\t\t            \t\t\t}\n\t\t\t            \t\t}else{\n\t\t\t            \t\t\tmsg = '\u6536\u85cf\u5931\u8d25!\u8bf7\u7a0d\u540e\u518d\u8bd5\u3002';\n\t\t\t            \t\t}\n\n\t\t\t            \t\tVIP.notify_tips(msg, 2000);\n\t\t\t            \t\t_this.setCollectionHtml(res.brand_id,res.brand_sn,type);\n\t\t\t            \t}else{\n\t\t\t            \t\tif (!data.login && data._redirect != '') {\n\t\t\t            \t\t    window.location.href = data._redirect;\n\t\t\t            \t\t    return false;\n\t\t\t            \t\t} else {\n\t\t\t            \t\t    VIP.notify_tips(data.msg, 2000);\n\t\t\t            \t\t}\n\t\t\t            \t}\n\t\t\t            }\n\t\t\t        });\n\t\t\t    },\n\t\t\t    setCollectionHtml : function (id,sn,type) {\n\t\t\t        var $fav = $('[data-favorite-status-brand-ids=' + id + ']');\n\n\t\t\t        if (type == 'add') {\n\t\t\t            $fav.attr('data-favorite-status-brand-action-type', 'cancel');\n\t\t\t            $fav.find('span').addClass('off');\n\t\t\t        } else if (type == 'cancel') {\n\t\t\t            $fav.attr('data-favorite-status-brand-action-type', 'add');\n\t\t\t            $fav.find('span').removeClass('off');\n\t\t\t        }\n\t\t\t    },\n\t\t\t    getCouponStatus : function (brand_ids) {\n\t\t\t        var url = intfHost + '\/index.php\/Special\/getCoupon?brand_ids='+ brand_ids +'&mars_cid='+ defaultParam.mars_cid +'&wap_consumer=' + defaultParam.wap_consumer;\n\n\t\t\t        $.ajax({\n\t\t\t            url: url,\n\t\t\t            dataType: 'jsonp',\n\t\t\t            jsonpCallback : 'getCouponStatusCallback',\n\t\t\t            success: function(data) {\n\t\t\t            \t$.each(data.data,function (key,value) {\n\t\t\t            \t    $('#L_coupon_'+ value).show();\n\t\t\t            \t})\n\t\t\t            }\n\t\t\t        });\n\t\t\t    }\n\t\t\t};\n\n\t\t\t\/\/ \u5206\u9875\u540e\u5904\u7406\u6570\u636e\n\t\t\tfunction renderPage (res,el) {\n\t\t\t    var tmpl = '<div class=\"tpl_brand {{if !is_click}}tpl-brand-mask{{\/if}}\"> <a href=\"${url}\"> <div class=\"tpl_pic\"><img class=\"picbrandlazyload\" src=\"${mobile_image_two}\" style=\"display: block;\"><span class=\"s_info_desc\">${pms_activetips}<\/span><span id=\"L_coupon_${brand_id}\" class=\"coupon\" style=\"display:none;\"><\/span><\/div> <div class=\"tpl_brand_msg rposition\"> <p class=\"tpl_brand_name\">${brand_name}<\/p> <p class=\"tpl_brand_discount\"><span class=\"salebg2\">{{html agio}}<\/p> {{if is_collect}} <p class=\"tpl_brand_fav\"><span class=\"brand_fav_num\" id=\"L_favorite_${brand_id}\" data-favorite-brand-ids=\"${brand_id}\" data-favorite-brand-sn=\"${brand_store_sn}\">0<\/span><span id=\"L_favorite_txt${brand_id}\" data-favorite-txt-brand-sn=\"${brand_store_sn}\">\u4eba\u6536\u85cf<\/span><\/p> {{\/if}} <\/div> {{if !isInSale}}<span data-favorite-status-brand-sn=\"${brand_store_sn}\" data-favorite-status-brand-ids=\"${brand_id}\" data-favorite-status-brand-action-type=\"add\" id=\"L_favorite_status_${brand_id}\"><span class=\"tpl_btn_fav\"><\/span><\/span>{{\/if}}  <\/a> <\/div>',\n\t\t\t        frag = document.createDocumentFragment(),\n\t\t\t        brands = [],\n\t\t\t        offset = res.extend ? 0 : (res.page ? res.page.offset : 0),\n\t\t\t        html ;\n\n\t\t\t    $.each(res.data, function(i) {\n\t\t\t    \tvar index = offset + i,\n\t\t\t    \t\tlist = config.model ? config.model.list[index] : defaultModel;\n\n\t\t\t        this.url = 'http:\/\/m.vip.com\/preheating-brand-' + this.brand_id + '-0-0-1-40.html';\n\n\t\t\t        this.mobile_image_two = 'http:\/\/a.appsimg.com\/upload\/brand\/' + VIP.getClientImageSrc(this.mobile_image_two);\n\n\t\t\t        $.extend(this, list, {isInSale : isInSale});\n\n\t\t\t        if(this.is_coupon){\n\t\t\t            brands.push(this.brand_id);\n\t\t\t        }\n\n\t\t\t        html = $.tmpl(tmpl, this);\n\n\t\t\t        $(frag).append(html);\n\t\t\t    });\n\n\t\t\t    el.append(frag);\n\n\t\t\t    if(!isInSale){\n\t\t\t        Collection.getCollectionList(defaultParam.item_id,defaultParam.client,defaultParam.warehouse);\n\n\t\t\t        \/\/ \u5f53\u540e\u53f0\u6709\u8bbe\u7f6e\u663e\u793a\u7ea2\u5305\u7684\u72b6\u6001\uff0c\u624d\u5339\u914d\u7ea2\u5305\u72b6\u6001\n\t\t\t        if(brands.length > 0){\n\t\t\t            Collection.getCouponStatus(brands);\n\t\t\t        }\n\t\t\t    }\n\t\t\t};\n\n\t\t\t\/\/ \u9996\u6b21\u52a0\u8f7d\u8c03\u7528\uff0c\u9ed8\u8ba4\u663e\u793a\u6570\u636e\n\t\t\trenderPage(config,el);\n\n\t\t\t\/\/ \u5f53\u6863\u671f\u8bbe\u7f6e\u4e86\u5206\u9875\u7684\u65f6\u5019\uff0c\u624d\u4f1a\u6709\u6eda\u52a8\u52a0\u8f7d\u529f\u80fd\n\t\t\tif(config.isLast && config.extend && config.extend.page.isPaging){\n\t\t\t    VIP.loadScript('\/demo\/js\/page.js',function () {\n\t\t\t        VIP.pager.config({\n\t\t\t            el : el,\n\n\t\t\t            reqData : {\n\t\t\t            \tpage_id : config.page_data.page_id,\n\t\t\t            \tfloor : config.floor\n\t\t\t            },\n\n\t\t\t            page : {},\n\n\t\t\t            url : '\/index.php\/Special\/getBrandData',\n\n\t\t\t            init : function(){\n\t\t\t                this.page.limit = config.extend.page.limit;\n\t\t\t                this.page.offset = config.extend.page.offset;\n\t\t\t                \/\/ this.reqData.query = this.more.data('query');\n\t\t\t            },\n\n\t\t\t            render : function(data,res){\n\t\t\t                renderPage(res,this.el);\n\t\t\t            }\n\t\t\t        });\n\t\t\t    });\n\t\t\t}",
					"module_type_id":"share",
					"style_group_id":"30",
					"style_cate_id":"29",
					"style_group":"\u6863\u671f\u697c\u5c42",
					"model":{
						"bg" : "1111.jpg",
						"share_id" : 1111,
						"plugin_id" : 2222
					},
					"id":"129",
					"page_data":{"start_time":"2015-05-28 10:00:00","end_time":"2015-05-29 09:59:59"},
					"special_data":{"start_time":"0000-00-00 00:00:00","end_time":"0000-00-00 00:00:00"},
					"floor":"1f"
				},{
					"template":"<div class=\"plugin-brand\"><\/div>","css":".tpl-brand-mask{pointer-events:none;}\n.tpl-brand-mask .tpl_pic::before{content:'\u5546\u54c1\u5373\u5c06\u63ed\u6653';position:absolute;top:0;left:0;overflow:hidden;width:100%;height:100%;line-height:9999em;background:rgba(0,0,0,0.5) url(http:\/\/mzt.vip.com\/uploadfiles\/exclusive_subject\/te\/v1\/te15329\/te_res\/images\/icon-mask.png) no-repeat center;background-size:contain; z-index: 1;}\n.tpl-brand-mask .tpl_btn_fav{pointer-events:auto;}\n\n.mzt-o-item .tpl_brand::after, .mzt-o-item .shop_list::after {\n  background: #ff3c80 url(http:\/\/mzt.vip.com\/uploadfiles\/exclusive_subject\/te\/v1\/te15439\/te_res\/images\/last.jpg) no-repeat center;\n  background-size: contain;\n}\n\n.notify-tips {width: 200px; padding: 20px 10px; margin: -25px 0 0 -120px; font-size: 18px; line-height: 30px; text-align: center; color: #fff; background: rgba(0, 0, 0, 0.6); position: fixed; left: 50%; top: 50%; display: none;}","js":"\/\/\u52a0\u8f7d\u66f4\u591a\n\t\t\tvar html = '',\n\t\t\t    isInSale = VIP.isInSale(config.page_data.start_time),\n\t\t\t    wrap = $('<div class=\"mzt-frame-column2 '+ (isInSale ? 'mzt-frame-sale' : 'mzt-frame-view') +'\"> <div class=\"mzt-floor\"> <div class=\"mzt-o-item\"> <div class=\"mzt-list-wrap\"> <div class=\"mzt-list\" data-img-class=\"picbrandlazyload\"> <\/div> <\/div> <\/div> <\/div> <\/div>'),\n\t\t\t    defaultParam = VIP.defaultParam,\n\t\t\t    moreHtml = '<div class=\"u-loading u-more-btn J_pager_more\">\u67e5\u770b\u66f4\u591a\u5546\u54c1<\/div>',\n\t\t\t    intfHost = typeof testEnvironment != 'undefined' ? '' : 'http:\/\/mzt.vip.com',\n\t\t\t    tipsHtml = '<div id=\"J_notify_tips\" class=\"notify-tips\"><\/div>',\n\t\t\t    defaultModel = {\n\t\t\t\t\t\"is_click\" : true,\n\t\t\t\t\t\"is_coupon\" : true,\n\t\t\t\t\t\"is_collect\" : false,\n\t\t\t\t\t\"is_watermark\" : false,\n\t\t\t\t\t\"watermark\" : \"\"\n\t\t\t    },\n\t\t\t    el;\n\n\t\t\t\/\/\u6ca1\u6709\u6570\u636e\u5904\u7406\n\t\t\tif (Array.isArray(config.model) || config.model === false) {\n\t\t\t    return\n\t\t\t}\n\n\t\t\tdom = dom.find('.plugin-brand').attr('data-module-type', config.module_type_id);\n\t\t\twrap.appendTo(dom);\n\t\t\tel = dom.find('.mzt-list:eq(0)');\n\t\t\tif(config.extend){\n\t\t\t\t($('#J_pager_more').length == 0 && config.extend.page.isPaging) && dom.append(moreHtml);\n\t\t\t}\n\n\t\t\t$('#J_notify_tips').length == 0 && dom.append(tipsHtml);\n\n\t\t\t\/\/ \u4e8b\u4ef6\u4ee3\u7406\u7ed9\u7236\u7ea7\n\t\t\tel.bind('click',function (e) {\n\t\t\t    var $target = $(e.target);\n\n\t\t\t    if($target.hasClass('tpl_btn_fav')){\n\t\t\t        e.preventDefault();\n\n\t\t\t        var $parent = $target.parent(),\n\t\t\t            type = $parent.attr('data-favorite-status-brand-action-type'),\n\t\t\t            id = $parent.attr('data-favorite-status-brand-ids'),\n\t\t\t            sn = $parent.attr('data-favorite-status-brand-sn');\n\n\t\t\t        \/\/ \u5f53\u54c1\u724c\u4e0d\u4e3a\u7a7a\u7684\u65f6\u5019\u624d\u80fd\u6536\u85cf\n\t\t\t        if(sn){\n\t\t\t            Collection.setCollection(type,id,sn);\n\t\t\t        }\n\t\t\t    }\n\t\t\t});\n\n\t\t\t\/\/\u68c0\u67e5\u662f\u5426\u4e3a\u6700\u540e\u4e00\u4e2a\u6a21\u5757\n\t\t\tVIP.checkLastModule(config);\n\n\t\t\t\/\/ console.log(config);\n\n\t\t\t\/**\n\t\t\t * \u6536\u85cf\u529f\u80fd Collection\n\t\t\t * notify_tips \u63d0\u793a\u4fe1\u606f\n\t\t\t * getCollectionList \u83b7\u53d6\u7528\u6237\u6536\u85cf\u7684\u54c1\u724c\n\t\t\t * setCollection \u6536\u85cf\/\u53d6\u6d88\u6536\u85cf\u529f\u80fd\n\t\t\t * setCollectionHtml \u6536\u85cf\u540e\u6539\u53d8Html\u7ed3\u6784\n\t\t\t *\/\n\t\t\twindow.Collection = {\n\t\t\t    getCollectionList : function (item_id,client,warehouse) {\n\t\t\t        var url = intfHost + '\/index.php\/Special\/getFavouriteServiceList?verstr='+ defaultParam.verstr;\n\n\t\t\t        $.ajax({\n\t\t\t            url: url,\n\t\t\t            dataType: 'jsonp',\n\t\t\t            jsonpCallback: 'getCollectionListCallback',\n\t\t\t            success: function(data) {\n\t\t\t            \tvar brand = data.data;\n\n\t\t\t            \t$.each(brand,function (key,value) {\n\t\t\t            \t    Collection.setCollectionHtml(value.brand_id,value.brand_store_sn,'add');\n\t\t\t            \t})\n\t\t\t            }\n\t\t\t        });\n\t\t\t    },\n\t\t\t    setCollection : function(type, brand_id, brand_sn) {\n\t\t\t        window.event.preventDefault();\n\n\t\t\t        var _this = this;\n\n\t\t\t        var url = intfHost + '\/index.php\/Special\/favouriteService?verstr='+ defaultParam.verstr +'&act='+ type +'&client=oauth&brand_sn='+ brand_sn +'&brand_id='+ brand_id +'&source=1';\n\n\t\t\t        $.ajax({\n\t\t\t            url: url,\n\t\t\t            dataType: 'jsonp',\n\t\t\t            jsonpCallback : 'setCollectionCallback',\n\t\t\t            success: function(data) {\n\t\t\t            \tvar res,msg;\n\n\t\t\t            \tif(data.result){\n\t\t\t            \t\tres = data.data;\n\n\t\t\t            \t\tif(data.code == 1){\n\t\t\t            \t\t\tif(res.pms_msg){\n\t\t\t            \t\t\t\tmsg = res.pms_msg;\n\t\t\t            \t\t\t}else{\n\t\t\t            \t\t\t\tmsg = res.type == 'add' ? '\u53d6\u6d88\u6536\u85cf\u6210\u529f\uff01' : '\u6536\u85cf\u6210\u529f\uff01';\n\t\t\t            \t\t\t}\n\t\t\t            \t\t}else{\n\t\t\t            \t\t\tmsg = '\u6536\u85cf\u5931\u8d25!\u8bf7\u7a0d\u540e\u518d\u8bd5\u3002';\n\t\t\t            \t\t}\n\n\t\t\t            \t\tVIP.notify_tips(msg, 2000);\n\t\t\t            \t\t_this.setCollectionHtml(res.brand_id,res.brand_sn,type);\n\t\t\t            \t}else{\n\t\t\t            \t\tif (!data.login && data._redirect != '') {\n\t\t\t            \t\t    window.location.href = data._redirect;\n\t\t\t            \t\t    return false;\n\t\t\t            \t\t} else {\n\t\t\t            \t\t    VIP.notify_tips(data.msg, 2000);\n\t\t\t            \t\t}\n\t\t\t            \t}\n\t\t\t            }\n\t\t\t        });\n\t\t\t    },\n\t\t\t    setCollectionHtml : function (id,sn,type) {\n\t\t\t        var $fav = $('[data-favorite-status-brand-ids=' + id + ']');\n\n\t\t\t        if (type == 'add') {\n\t\t\t            $fav.attr('data-favorite-status-brand-action-type', 'cancel');\n\t\t\t            $fav.find('span').addClass('off');\n\t\t\t        } else if (type == 'cancel') {\n\t\t\t            $fav.attr('data-favorite-status-brand-action-type', 'add');\n\t\t\t            $fav.find('span').removeClass('off');\n\t\t\t        }\n\t\t\t    },\n\t\t\t    getCouponStatus : function (brand_ids) {\n\t\t\t        var url = intfHost + '\/index.php\/Special\/getCoupon?brand_ids='+ brand_ids +'&mars_cid='+ defaultParam.mars_cid +'&wap_consumer=' + defaultParam.wap_consumer;\n\n\t\t\t        $.ajax({\n\t\t\t            url: url,\n\t\t\t            dataType: 'jsonp',\n\t\t\t            jsonpCallback : 'getCouponStatusCallback',\n\t\t\t            success: function(data) {\n\t\t\t            \t$.each(data.data,function (key,value) {\n\t\t\t            \t    $('#L_coupon_'+ value).show();\n\t\t\t            \t})\n\t\t\t            }\n\t\t\t        });\n\t\t\t    }\n\t\t\t};\n\n\t\t\t\/\/ \u5206\u9875\u540e\u5904\u7406\u6570\u636e\n\t\t\tfunction renderPage (res,el) {\n\t\t\t    var tmpl = '<div class=\"tpl_brand {{if !is_click}}tpl-brand-mask{{\/if}}\"> <a href=\"${url}\"> <div class=\"tpl_pic\"><img class=\"picbrandlazyload\" src=\"${mobile_image_two}\" style=\"display: block;\"><span class=\"s_info_desc\">${pms_activetips}<\/span><span id=\"L_coupon_${brand_id}\" class=\"coupon\" style=\"display:none;\"><\/span><\/div> <div class=\"tpl_brand_msg rposition\"> <p class=\"tpl_brand_name\">${brand_name}<\/p> <p class=\"tpl_brand_discount\"><span class=\"salebg2\">{{html agio}}<\/p> {{if is_collect}} <p class=\"tpl_brand_fav\"><span class=\"brand_fav_num\" id=\"L_favorite_${brand_id}\" data-favorite-brand-ids=\"${brand_id}\" data-favorite-brand-sn=\"${brand_store_sn}\">0<\/span><span id=\"L_favorite_txt${brand_id}\" data-favorite-txt-brand-sn=\"${brand_store_sn}\">\u4eba\u6536\u85cf<\/span><\/p> {{\/if}} <\/div> {{if !isInSale}}<span data-favorite-status-brand-sn=\"${brand_store_sn}\" data-favorite-status-brand-ids=\"${brand_id}\" data-favorite-status-brand-action-type=\"add\" id=\"L_favorite_status_${brand_id}\"><span class=\"tpl_btn_fav\"><\/span><\/span>{{\/if}}  <\/a> <\/div>',\n\t\t\t        frag = document.createDocumentFragment(),\n\t\t\t        brands = [],\n\t\t\t        offset = res.extend ? 0 : (res.page ? res.page.offset : 0),\n\t\t\t        html ;\n\n\t\t\t    $.each(res.data, function(i) {\n\t\t\t    \tvar index = offset + i,\n\t\t\t    \t\tlist = config.model ? config.model.list[index] : defaultModel;\n\n\t\t\t        this.url = 'http:\/\/m.vip.com\/preheating-brand-' + this.brand_id + '-0-0-1-40.html';\n\n\t\t\t        this.mobile_image_two = 'http:\/\/a.appsimg.com\/upload\/brand\/' + VIP.getClientImageSrc(this.mobile_image_two);\n\n\t\t\t        $.extend(this, list, {isInSale : isInSale});\n\n\t\t\t        if(this.is_coupon){\n\t\t\t            brands.push(this.brand_id);\n\t\t\t        }\n\n\t\t\t        html = $.tmpl(tmpl, this);\n\n\t\t\t        $(frag).append(html);\n\t\t\t    });\n\n\t\t\t    el.append(frag);\n\n\t\t\t    if(!isInSale){\n\t\t\t        Collection.getCollectionList(defaultParam.item_id,defaultParam.client,defaultParam.warehouse);\n\n\t\t\t        \/\/ \u5f53\u540e\u53f0\u6709\u8bbe\u7f6e\u663e\u793a\u7ea2\u5305\u7684\u72b6\u6001\uff0c\u624d\u5339\u914d\u7ea2\u5305\u72b6\u6001\n\t\t\t        if(brands.length > 0){\n\t\t\t            Collection.getCouponStatus(brands);\n\t\t\t        }\n\t\t\t    }\n\t\t\t};\n\n\t\t\t\/\/ \u9996\u6b21\u52a0\u8f7d\u8c03\u7528\uff0c\u9ed8\u8ba4\u663e\u793a\u6570\u636e\n\t\t\trenderPage(config,el);\n\n\t\t\t\/\/ \u5f53\u6863\u671f\u8bbe\u7f6e\u4e86\u5206\u9875\u7684\u65f6\u5019\uff0c\u624d\u4f1a\u6709\u6eda\u52a8\u52a0\u8f7d\u529f\u80fd\n\t\t\tif(config.isLast && config.extend && config.extend.page.isPaging){\n\t\t\t    VIP.loadScript('\/demo\/js\/page.js',function () {\n\t\t\t        VIP.pager.config({\n\t\t\t            el : el,\n\n\t\t\t            reqData : {\n\t\t\t            \tpage_id : config.page_data.page_id,\n\t\t\t            \tfloor : config.floor\n\t\t\t            },\n\n\t\t\t            page : {},\n\n\t\t\t            url : '\/index.php\/Special\/getBrandData',\n\n\t\t\t            init : function(){\n\t\t\t                this.page.limit = config.extend.page.limit;\n\t\t\t                this.page.offset = config.extend.page.offset;\n\t\t\t                \/\/ this.reqData.query = this.more.data('query');\n\t\t\t            },\n\n\t\t\t            render : function(data,res){\n\t\t\t                renderPage(res,this.el);\n\t\t\t            }\n\t\t\t        });\n\t\t\t    });\n\t\t\t}",
					"module_type_id":"countdown",
					"style_group_id":"30",
					"style_cate_id":"29",
					"style_group":"\u6863\u671f\u697c\u5c42",
					"model":{
						"is_float" : "false",
						"float_pos" : "top",
						"start_time" : "2015-07-05 9:30:00",
						"end_time" : "2015-08-10 10:54:00",
						"text" : "这是傻逼wen'a"
					},
					"id":"129",
					"page_data":{"start_time":"2015-05-28 10:00:00","end_time":"2015-05-29 09:59:59"},
					"special_data":{"start_time":"0000-00-00 00:00:00","end_time":"0000-00-00 00:00:00"},
					"floor":"1f"
				}, {
					"template":"<div class=\"plugin-brand\"><\/div>","css":".tpl-brand-mask{pointer-events:none;}\n.tpl-brand-mask .tpl_pic::before{content:'\u5546\u54c1\u5373\u5c06\u63ed\u6653';position:absolute;top:0;left:0;overflow:hidden;width:100%;height:100%;line-height:9999em;background:rgba(0,0,0,0.5) url(http:\/\/mzt.vip.com\/uploadfiles\/exclusive_subject\/te\/v1\/te15329\/te_res\/images\/icon-mask.png) no-repeat center;background-size:contain; z-index: 1;}\n.tpl-brand-mask .tpl_btn_fav{pointer-events:auto;}\n\n.mzt-o-item .tpl_brand::after, .mzt-o-item .shop_list::after {\n  background: #ff3c80 url(http:\/\/mzt.vip.com\/uploadfiles\/exclusive_subject\/te\/v1\/te15439\/te_res\/images\/last.jpg) no-repeat center;\n  background-size: contain;\n}\n\n.notify-tips {width: 200px; padding: 20px 10px; margin: -25px 0 0 -120px; font-size: 18px; line-height: 30px; text-align: center; color: #fff; background: rgba(0, 0, 0, 0.6); position: fixed; left: 50%; top: 50%; display: none;}","js":"\/\/\u52a0\u8f7d\u66f4\u591a\n\t\t\tvar html = '',\n\t\t\t    isInSale = VIP.isInSale(config.page_data.start_time),\n\t\t\t    wrap = $('<div class=\"mzt-frame-column2 '+ (isInSale ? 'mzt-frame-sale' : 'mzt-frame-view') +'\"> <div class=\"mzt-floor\"> <div class=\"mzt-o-item\"> <div class=\"mzt-list-wrap\"> <div class=\"mzt-list\" data-img-class=\"picbrandlazyload\"> <\/div> <\/div> <\/div> <\/div> <\/div>'),\n\t\t\t    defaultParam = VIP.defaultParam,\n\t\t\t    moreHtml = '<div class=\"u-loading u-more-btn J_pager_more\">\u67e5\u770b\u66f4\u591a\u5546\u54c1<\/div>',\n\t\t\t    intfHost = typeof testEnvironment != 'undefined' ? '' : 'http:\/\/mzt.vip.com',\n\t\t\t    tipsHtml = '<div id=\"J_notify_tips\" class=\"notify-tips\"><\/div>',\n\t\t\t    defaultModel = {\n\t\t\t\t\t\"is_click\" : true,\n\t\t\t\t\t\"is_coupon\" : true,\n\t\t\t\t\t\"is_collect\" : false,\n\t\t\t\t\t\"is_watermark\" : false,\n\t\t\t\t\t\"watermark\" : \"\"\n\t\t\t    },\n\t\t\t    el;\n\n\t\t\t\/\/\u6ca1\u6709\u6570\u636e\u5904\u7406\n\t\t\tif (Array.isArray(config.model) || config.model === false) {\n\t\t\t    return\n\t\t\t}\n\n\t\t\tdom = dom.find('.plugin-brand').attr('data-module-type', config.module_type_id);\n\t\t\twrap.appendTo(dom);\n\t\t\tel = dom.find('.mzt-list:eq(0)');\n\t\t\tif(config.extend){\n\t\t\t\t($('#J_pager_more').length == 0 && config.extend.page.isPaging) && dom.append(moreHtml);\n\t\t\t}\n\n\t\t\t$('#J_notify_tips').length == 0 && dom.append(tipsHtml);\n\n\t\t\t\/\/ \u4e8b\u4ef6\u4ee3\u7406\u7ed9\u7236\u7ea7\n\t\t\tel.bind('click',function (e) {\n\t\t\t    var $target = $(e.target);\n\n\t\t\t    if($target.hasClass('tpl_btn_fav')){\n\t\t\t        e.preventDefault();\n\n\t\t\t        var $parent = $target.parent(),\n\t\t\t            type = $parent.attr('data-favorite-status-brand-action-type'),\n\t\t\t            id = $parent.attr('data-favorite-status-brand-ids'),\n\t\t\t            sn = $parent.attr('data-favorite-status-brand-sn');\n\n\t\t\t        \/\/ \u5f53\u54c1\u724c\u4e0d\u4e3a\u7a7a\u7684\u65f6\u5019\u624d\u80fd\u6536\u85cf\n\t\t\t        if(sn){\n\t\t\t            Collection.setCollection(type,id,sn);\n\t\t\t        }\n\t\t\t    }\n\t\t\t});\n\n\t\t\t\/\/\u68c0\u67e5\u662f\u5426\u4e3a\u6700\u540e\u4e00\u4e2a\u6a21\u5757\n\t\t\tVIP.checkLastModule(config);\n\n\t\t\t\/\/ console.log(config);\n\n\t\t\t\/**\n\t\t\t * \u6536\u85cf\u529f\u80fd Collection\n\t\t\t * notify_tips \u63d0\u793a\u4fe1\u606f\n\t\t\t * getCollectionList \u83b7\u53d6\u7528\u6237\u6536\u85cf\u7684\u54c1\u724c\n\t\t\t * setCollection \u6536\u85cf\/\u53d6\u6d88\u6536\u85cf\u529f\u80fd\n\t\t\t * setCollectionHtml \u6536\u85cf\u540e\u6539\u53d8Html\u7ed3\u6784\n\t\t\t *\/\n\t\t\twindow.Collection = {\n\t\t\t    getCollectionList : function (item_id,client,warehouse) {\n\t\t\t        var url = intfHost + '\/index.php\/Special\/getFavouriteServiceList?verstr='+ defaultParam.verstr;\n\n\t\t\t        $.ajax({\n\t\t\t            url: url,\n\t\t\t            dataType: 'jsonp',\n\t\t\t            jsonpCallback: 'getCollectionListCallback',\n\t\t\t            success: function(data) {\n\t\t\t            \tvar brand = data.data;\n\n\t\t\t            \t$.each(brand,function (key,value) {\n\t\t\t            \t    Collection.setCollectionHtml(value.brand_id,value.brand_store_sn,'add');\n\t\t\t            \t})\n\t\t\t            }\n\t\t\t        });\n\t\t\t    },\n\t\t\t    setCollection : function(type, brand_id, brand_sn) {\n\t\t\t        window.event.preventDefault();\n\n\t\t\t        var _this = this;\n\n\t\t\t        var url = intfHost + '\/index.php\/Special\/favouriteService?verstr='+ defaultParam.verstr +'&act='+ type +'&client=oauth&brand_sn='+ brand_sn +'&brand_id='+ brand_id +'&source=1';\n\n\t\t\t        $.ajax({\n\t\t\t            url: url,\n\t\t\t            dataType: 'jsonp',\n\t\t\t            jsonpCallback : 'setCollectionCallback',\n\t\t\t            success: function(data) {\n\t\t\t            \tvar res,msg;\n\n\t\t\t            \tif(data.result){\n\t\t\t            \t\tres = data.data;\n\n\t\t\t            \t\tif(data.code == 1){\n\t\t\t            \t\t\tif(res.pms_msg){\n\t\t\t            \t\t\t\tmsg = res.pms_msg;\n\t\t\t            \t\t\t}else{\n\t\t\t            \t\t\t\tmsg = res.type == 'add' ? '\u53d6\u6d88\u6536\u85cf\u6210\u529f\uff01' : '\u6536\u85cf\u6210\u529f\uff01';\n\t\t\t            \t\t\t}\n\t\t\t            \t\t}else{\n\t\t\t            \t\t\tmsg = '\u6536\u85cf\u5931\u8d25!\u8bf7\u7a0d\u540e\u518d\u8bd5\u3002';\n\t\t\t            \t\t}\n\n\t\t\t            \t\tVIP.notify_tips(msg, 2000);\n\t\t\t            \t\t_this.setCollectionHtml(res.brand_id,res.brand_sn,type);\n\t\t\t            \t}else{\n\t\t\t            \t\tif (!data.login && data._redirect != '') {\n\t\t\t            \t\t    window.location.href = data._redirect;\n\t\t\t            \t\t    return false;\n\t\t\t            \t\t} else {\n\t\t\t            \t\t    VIP.notify_tips(data.msg, 2000);\n\t\t\t            \t\t}\n\t\t\t            \t}\n\t\t\t            }\n\t\t\t        });\n\t\t\t    },\n\t\t\t    setCollectionHtml : function (id,sn,type) {\n\t\t\t        var $fav = $('[data-favorite-status-brand-ids=' + id + ']');\n\n\t\t\t        if (type == 'add') {\n\t\t\t            $fav.attr('data-favorite-status-brand-action-type', 'cancel');\n\t\t\t            $fav.find('span').addClass('off');\n\t\t\t        } else if (type == 'cancel') {\n\t\t\t            $fav.attr('data-favorite-status-brand-action-type', 'add');\n\t\t\t            $fav.find('span').removeClass('off');\n\t\t\t        }\n\t\t\t    },\n\t\t\t    getCouponStatus : function (brand_ids) {\n\t\t\t        var url = intfHost + '\/index.php\/Special\/getCoupon?brand_ids='+ brand_ids +'&mars_cid='+ defaultParam.mars_cid +'&wap_consumer=' + defaultParam.wap_consumer;\n\n\t\t\t        $.ajax({\n\t\t\t            url: url,\n\t\t\t            dataType: 'jsonp',\n\t\t\t            jsonpCallback : 'getCouponStatusCallback',\n\t\t\t            success: function(data) {\n\t\t\t            \t$.each(data.data,function (key,value) {\n\t\t\t            \t    $('#L_coupon_'+ value).show();\n\t\t\t            \t})\n\t\t\t            }\n\t\t\t        });\n\t\t\t    }\n\t\t\t};\n\n\t\t\t\/\/ \u5206\u9875\u540e\u5904\u7406\u6570\u636e\n\t\t\tfunction renderPage (res,el) {\n\t\t\t    var tmpl = '<div class=\"tpl_brand {{if !is_click}}tpl-brand-mask{{\/if}}\"> <a href=\"${url}\"> <div class=\"tpl_pic\"><img class=\"picbrandlazyload\" src=\"${mobile_image_two}\" style=\"display: block;\"><span class=\"s_info_desc\">${pms_activetips}<\/span><span id=\"L_coupon_${brand_id}\" class=\"coupon\" style=\"display:none;\"><\/span><\/div> <div class=\"tpl_brand_msg rposition\"> <p class=\"tpl_brand_name\">${brand_name}<\/p> <p class=\"tpl_brand_discount\"><span class=\"salebg2\">{{html agio}}<\/p> {{if is_collect}} <p class=\"tpl_brand_fav\"><span class=\"brand_fav_num\" id=\"L_favorite_${brand_id}\" data-favorite-brand-ids=\"${brand_id}\" data-favorite-brand-sn=\"${brand_store_sn}\">0<\/span><span id=\"L_favorite_txt${brand_id}\" data-favorite-txt-brand-sn=\"${brand_store_sn}\">\u4eba\u6536\u85cf<\/span><\/p> {{\/if}} <\/div> {{if !isInSale}}<span data-favorite-status-brand-sn=\"${brand_store_sn}\" data-favorite-status-brand-ids=\"${brand_id}\" data-favorite-status-brand-action-type=\"add\" id=\"L_favorite_status_${brand_id}\"><span class=\"tpl_btn_fav\"><\/span><\/span>{{\/if}}  <\/a> <\/div>',\n\t\t\t        frag = document.createDocumentFragment(),\n\t\t\t        brands = [],\n\t\t\t        offset = res.extend ? 0 : (res.page ? res.page.offset : 0),\n\t\t\t        html ;\n\n\t\t\t    $.each(res.data, function(i) {\n\t\t\t    \tvar index = offset + i,\n\t\t\t    \t\tlist = config.model ? config.model.list[index] : defaultModel;\n\n\t\t\t        this.url = 'http:\/\/m.vip.com\/preheating-brand-' + this.brand_id + '-0-0-1-40.html';\n\n\t\t\t        this.mobile_image_two = 'http:\/\/a.appsimg.com\/upload\/brand\/' + VIP.getClientImageSrc(this.mobile_image_two);\n\n\t\t\t        $.extend(this, list, {isInSale : isInSale});\n\n\t\t\t        if(this.is_coupon){\n\t\t\t            brands.push(this.brand_id);\n\t\t\t        }\n\n\t\t\t        html = $.tmpl(tmpl, this);\n\n\t\t\t        $(frag).append(html);\n\t\t\t    });\n\n\t\t\t    el.append(frag);\n\n\t\t\t    if(!isInSale){\n\t\t\t        Collection.getCollectionList(defaultParam.item_id,defaultParam.client,defaultParam.warehouse);\n\n\t\t\t        \/\/ \u5f53\u540e\u53f0\u6709\u8bbe\u7f6e\u663e\u793a\u7ea2\u5305\u7684\u72b6\u6001\uff0c\u624d\u5339\u914d\u7ea2\u5305\u72b6\u6001\n\t\t\t        if(brands.length > 0){\n\t\t\t            Collection.getCouponStatus(brands);\n\t\t\t        }\n\t\t\t    }\n\t\t\t};\n\n\t\t\t\/\/ \u9996\u6b21\u52a0\u8f7d\u8c03\u7528\uff0c\u9ed8\u8ba4\u663e\u793a\u6570\u636e\n\t\t\trenderPage(config,el);\n\n\t\t\t\/\/ \u5f53\u6863\u671f\u8bbe\u7f6e\u4e86\u5206\u9875\u7684\u65f6\u5019\uff0c\u624d\u4f1a\u6709\u6eda\u52a8\u52a0\u8f7d\u529f\u80fd\n\t\t\tif(config.isLast && config.extend && config.extend.page.isPaging){\n\t\t\t    VIP.loadScript('\/demo\/js\/page.js',function () {\n\t\t\t        VIP.pager.config({\n\t\t\t            el : el,\n\n\t\t\t            reqData : {\n\t\t\t            \tpage_id : config.page_data.page_id,\n\t\t\t            \tfloor : config.floor\n\t\t\t            },\n\n\t\t\t            page : {},\n\n\t\t\t            url : '\/index.php\/Special\/getBrandData',\n\n\t\t\t            init : function(){\n\t\t\t                this.page.limit = config.extend.page.limit;\n\t\t\t                this.page.offset = config.extend.page.offset;\n\t\t\t                \/\/ this.reqData.query = this.more.data('query');\n\t\t\t            },\n\n\t\t\t            render : function(data,res){\n\t\t\t                renderPage(res,this.el);\n\t\t\t            }\n\t\t\t        });\n\t\t\t    });\n\t\t\t}",
					"module_type_id":"share",
					"style_group_id":"30",
					"style_cate_id":"29",
					"style_group":"\u6863\u671f\u697c\u5c42",
					"model":{
						"bg" : "1111.jpg",
						"share_id" : 1111,
						"plugin_id" : 2222
					},
					"id":"129",
					"page_data":{"start_time":"2015-05-28 10:00:00","end_time":"2015-05-29 09:59:59"},
					"special_data":{"start_time":"0000-00-00 00:00:00","end_time":"0000-00-00 00:00:00"},
					"floor":"1f"
				}, {
				"template":"<div class=\"plugin-brand\"><\/div>","css":".tpl-brand-mask{pointer-events:none;}\n.tpl-brand-mask .tpl_pic::before{content:'\u5546\u54c1\u5373\u5c06\u63ed\u6653';position:absolute;top:0;left:0;overflow:hidden;width:100%;height:100%;line-height:9999em;background:rgba(0,0,0,0.5) url(http:\/\/mzt.vip.com\/uploadfiles\/exclusive_subject\/te\/v1\/te15329\/te_res\/images\/icon-mask.png) no-repeat center;background-size:contain; z-index: 1;}\n.tpl-brand-mask .tpl_btn_fav{pointer-events:auto;}\n\n.mzt-o-item .tpl_brand::after, .mzt-o-item .shop_list::after {\n  background: #ff3c80 url(http:\/\/mzt.vip.com\/uploadfiles\/exclusive_subject\/te\/v1\/te15439\/te_res\/images\/last.jpg) no-repeat center;\n  background-size: contain;\n}\n\n.notify-tips {width: 200px; padding: 20px 10px; margin: -25px 0 0 -120px; font-size: 18px; line-height: 30px; text-align: center; color: #fff; background: rgba(0, 0, 0, 0.6); position: fixed; left: 50%; top: 50%; display: none;}","js":"\/\/\u52a0\u8f7d\u66f4\u591a\n\t\t\tvar html = '',\n\t\t\t    isInSale = VIP.isInSale(config.page_data.start_time),\n\t\t\t    wrap = $('<div class=\"mzt-frame-column2 '+ (isInSale ? 'mzt-frame-sale' : 'mzt-frame-view') +'\"> <div class=\"mzt-floor\"> <div class=\"mzt-o-item\"> <div class=\"mzt-list-wrap\"> <div class=\"mzt-list\" data-img-class=\"picbrandlazyload\"> <\/div> <\/div> <\/div> <\/div> <\/div>'),\n\t\t\t    defaultParam = VIP.defaultParam,\n\t\t\t    moreHtml = '<div class=\"u-loading u-more-btn J_pager_more\">\u67e5\u770b\u66f4\u591a\u5546\u54c1<\/div>',\n\t\t\t    intfHost = typeof testEnvironment != 'undefined' ? '' : 'http:\/\/mzt.vip.com',\n\t\t\t    tipsHtml = '<div id=\"J_notify_tips\" class=\"notify-tips\"><\/div>',\n\t\t\t    defaultModel = {\n\t\t\t\t\t\"is_click\" : true,\n\t\t\t\t\t\"is_coupon\" : true,\n\t\t\t\t\t\"is_collect\" : false,\n\t\t\t\t\t\"is_watermark\" : false,\n\t\t\t\t\t\"watermark\" : \"\"\n\t\t\t    },\n\t\t\t    el;\n\n\t\t\t\/\/\u6ca1\u6709\u6570\u636e\u5904\u7406\n\t\t\tif (Array.isArray(config.model) || config.model === false) {\n\t\t\t    return\n\t\t\t}\n\n\t\t\tdom = dom.find('.plugin-brand').attr('data-module-type', config.module_type_id);\n\t\t\twrap.appendTo(dom);\n\t\t\tel = dom.find('.mzt-list:eq(0)');\n\t\t\tif(config.extend){\n\t\t\t\t($('#J_pager_more').length == 0 && config.extend.page.isPaging) && dom.append(moreHtml);\n\t\t\t}\n\n\t\t\t$('#J_notify_tips').length == 0 && dom.append(tipsHtml);\n\n\t\t\t\/\/ \u4e8b\u4ef6\u4ee3\u7406\u7ed9\u7236\u7ea7\n\t\t\tel.bind('click',function (e) {\n\t\t\t    var $target = $(e.target);\n\n\t\t\t    if($target.hasClass('tpl_btn_fav')){\n\t\t\t        e.preventDefault();\n\n\t\t\t        var $parent = $target.parent(),\n\t\t\t            type = $parent.attr('data-favorite-status-brand-action-type'),\n\t\t\t            id = $parent.attr('data-favorite-status-brand-ids'),\n\t\t\t            sn = $parent.attr('data-favorite-status-brand-sn');\n\n\t\t\t        \/\/ \u5f53\u54c1\u724c\u4e0d\u4e3a\u7a7a\u7684\u65f6\u5019\u624d\u80fd\u6536\u85cf\n\t\t\t        if(sn){\n\t\t\t            Collection.setCollection(type,id,sn);\n\t\t\t        }\n\t\t\t    }\n\t\t\t});\n\n\t\t\t\/\/\u68c0\u67e5\u662f\u5426\u4e3a\u6700\u540e\u4e00\u4e2a\u6a21\u5757\n\t\t\tVIP.checkLastModule(config);\n\n\t\t\t\/\/ console.log(config);\n\n\t\t\t\/**\n\t\t\t * \u6536\u85cf\u529f\u80fd Collection\n\t\t\t * notify_tips \u63d0\u793a\u4fe1\u606f\n\t\t\t * getCollectionList \u83b7\u53d6\u7528\u6237\u6536\u85cf\u7684\u54c1\u724c\n\t\t\t * setCollection \u6536\u85cf\/\u53d6\u6d88\u6536\u85cf\u529f\u80fd\n\t\t\t * setCollectionHtml \u6536\u85cf\u540e\u6539\u53d8Html\u7ed3\u6784\n\t\t\t *\/\n\t\t\twindow.Collection = {\n\t\t\t    getCollectionList : function (item_id,client,warehouse) {\n\t\t\t        var url = intfHost + '\/index.php\/Special\/getFavouriteServiceList?verstr='+ defaultParam.verstr;\n\n\t\t\t        $.ajax({\n\t\t\t            url: url,\n\t\t\t            dataType: 'jsonp',\n\t\t\t            jsonpCallback: 'getCollectionListCallback',\n\t\t\t            success: function(data) {\n\t\t\t            \tvar brand = data.data;\n\n\t\t\t            \t$.each(brand,function (key,value) {\n\t\t\t            \t    Collection.setCollectionHtml(value.brand_id,value.brand_store_sn,'add');\n\t\t\t            \t})\n\t\t\t            }\n\t\t\t        });\n\t\t\t    },\n\t\t\t    setCollection : function(type, brand_id, brand_sn) {\n\t\t\t        window.event.preventDefault();\n\n\t\t\t        var _this = this;\n\n\t\t\t        var url = intfHost + '\/index.php\/Special\/favouriteService?verstr='+ defaultParam.verstr +'&act='+ type +'&client=oauth&brand_sn='+ brand_sn +'&brand_id='+ brand_id +'&source=1';\n\n\t\t\t        $.ajax({\n\t\t\t            url: url,\n\t\t\t            dataType: 'jsonp',\n\t\t\t            jsonpCallback : 'setCollectionCallback',\n\t\t\t            success: function(data) {\n\t\t\t            \tvar res,msg;\n\n\t\t\t            \tif(data.result){\n\t\t\t            \t\tres = data.data;\n\n\t\t\t            \t\tif(data.code == 1){\n\t\t\t            \t\t\tif(res.pms_msg){\n\t\t\t            \t\t\t\tmsg = res.pms_msg;\n\t\t\t            \t\t\t}else{\n\t\t\t            \t\t\t\tmsg = res.type == 'add' ? '\u53d6\u6d88\u6536\u85cf\u6210\u529f\uff01' : '\u6536\u85cf\u6210\u529f\uff01';\n\t\t\t            \t\t\t}\n\t\t\t            \t\t}else{\n\t\t\t            \t\t\tmsg = '\u6536\u85cf\u5931\u8d25!\u8bf7\u7a0d\u540e\u518d\u8bd5\u3002';\n\t\t\t            \t\t}\n\n\t\t\t            \t\tVIP.notify_tips(msg, 2000);\n\t\t\t            \t\t_this.setCollectionHtml(res.brand_id,res.brand_sn,type);\n\t\t\t            \t}else{\n\t\t\t            \t\tif (!data.login && data._redirect != '') {\n\t\t\t            \t\t    window.location.href = data._redirect;\n\t\t\t            \t\t    return false;\n\t\t\t            \t\t} else {\n\t\t\t            \t\t    VIP.notify_tips(data.msg, 2000);\n\t\t\t            \t\t}\n\t\t\t            \t}\n\t\t\t            }\n\t\t\t        });\n\t\t\t    },\n\t\t\t    setCollectionHtml : function (id,sn,type) {\n\t\t\t        var $fav = $('[data-favorite-status-brand-ids=' + id + ']');\n\n\t\t\t        if (type == 'add') {\n\t\t\t            $fav.attr('data-favorite-status-brand-action-type', 'cancel');\n\t\t\t            $fav.find('span').addClass('off');\n\t\t\t        } else if (type == 'cancel') {\n\t\t\t            $fav.attr('data-favorite-status-brand-action-type', 'add');\n\t\t\t            $fav.find('span').removeClass('off');\n\t\t\t        }\n\t\t\t    },\n\t\t\t    getCouponStatus : function (brand_ids) {\n\t\t\t        var url = intfHost + '\/index.php\/Special\/getCoupon?brand_ids='+ brand_ids +'&mars_cid='+ defaultParam.mars_cid +'&wap_consumer=' + defaultParam.wap_consumer;\n\n\t\t\t        $.ajax({\n\t\t\t            url: url,\n\t\t\t            dataType: 'jsonp',\n\t\t\t            jsonpCallback : 'getCouponStatusCallback',\n\t\t\t            success: function(data) {\n\t\t\t            \t$.each(data.data,function (key,value) {\n\t\t\t            \t    $('#L_coupon_'+ value).show();\n\t\t\t            \t})\n\t\t\t            }\n\t\t\t        });\n\t\t\t    }\n\t\t\t};\n\n\t\t\t\/\/ \u5206\u9875\u540e\u5904\u7406\u6570\u636e\n\t\t\tfunction renderPage (res,el) {\n\t\t\t    var tmpl = '<div class=\"tpl_brand {{if !is_click}}tpl-brand-mask{{\/if}}\"> <a href=\"${url}\"> <div class=\"tpl_pic\"><img class=\"picbrandlazyload\" src=\"${mobile_image_two}\" style=\"display: block;\"><span class=\"s_info_desc\">${pms_activetips}<\/span><span id=\"L_coupon_${brand_id}\" class=\"coupon\" style=\"display:none;\"><\/span><\/div> <div class=\"tpl_brand_msg rposition\"> <p class=\"tpl_brand_name\">${brand_name}<\/p> <p class=\"tpl_brand_discount\"><span class=\"salebg2\">{{html agio}}<\/p> {{if is_collect}} <p class=\"tpl_brand_fav\"><span class=\"brand_fav_num\" id=\"L_favorite_${brand_id}\" data-favorite-brand-ids=\"${brand_id}\" data-favorite-brand-sn=\"${brand_store_sn}\">0<\/span><span id=\"L_favorite_txt${brand_id}\" data-favorite-txt-brand-sn=\"${brand_store_sn}\">\u4eba\u6536\u85cf<\/span><\/p> {{\/if}} <\/div> {{if !isInSale}}<span data-favorite-status-brand-sn=\"${brand_store_sn}\" data-favorite-status-brand-ids=\"${brand_id}\" data-favorite-status-brand-action-type=\"add\" id=\"L_favorite_status_${brand_id}\"><span class=\"tpl_btn_fav\"><\/span><\/span>{{\/if}}  <\/a> <\/div>',\n\t\t\t        frag = document.createDocumentFragment(),\n\t\t\t        brands = [],\n\t\t\t        offset = res.extend ? 0 : (res.page ? res.page.offset : 0),\n\t\t\t        html ;\n\n\t\t\t    $.each(res.data, function(i) {\n\t\t\t    \tvar index = offset + i,\n\t\t\t    \t\tlist = config.model ? config.model.list[index] : defaultModel;\n\n\t\t\t        this.url = 'http:\/\/m.vip.com\/preheating-brand-' + this.brand_id + '-0-0-1-40.html';\n\n\t\t\t        this.mobile_image_two = 'http:\/\/a.appsimg.com\/upload\/brand\/' + VIP.getClientImageSrc(this.mobile_image_two);\n\n\t\t\t        $.extend(this, list, {isInSale : isInSale});\n\n\t\t\t        if(this.is_coupon){\n\t\t\t            brands.push(this.brand_id);\n\t\t\t        }\n\n\t\t\t        html = $.tmpl(tmpl, this);\n\n\t\t\t        $(frag).append(html);\n\t\t\t    });\n\n\t\t\t    el.append(frag);\n\n\t\t\t    if(!isInSale){\n\t\t\t        Collection.getCollectionList(defaultParam.item_id,defaultParam.client,defaultParam.warehouse);\n\n\t\t\t        \/\/ \u5f53\u540e\u53f0\u6709\u8bbe\u7f6e\u663e\u793a\u7ea2\u5305\u7684\u72b6\u6001\uff0c\u624d\u5339\u914d\u7ea2\u5305\u72b6\u6001\n\t\t\t        if(brands.length > 0){\n\t\t\t            Collection.getCouponStatus(brands);\n\t\t\t        }\n\t\t\t    }\n\t\t\t};\n\n\t\t\t\/\/ \u9996\u6b21\u52a0\u8f7d\u8c03\u7528\uff0c\u9ed8\u8ba4\u663e\u793a\u6570\u636e\n\t\t\trenderPage(config,el);\n\n\t\t\t\/\/ \u5f53\u6863\u671f\u8bbe\u7f6e\u4e86\u5206\u9875\u7684\u65f6\u5019\uff0c\u624d\u4f1a\u6709\u6eda\u52a8\u52a0\u8f7d\u529f\u80fd\n\t\t\tif(config.isLast && config.extend && config.extend.page.isPaging){\n\t\t\t    VIP.loadScript('\/demo\/js\/page.js',function () {\n\t\t\t        VIP.pager.config({\n\t\t\t            el : el,\n\n\t\t\t            reqData : {\n\t\t\t            \tpage_id : config.page_data.page_id,\n\t\t\t            \tfloor : config.floor\n\t\t\t            },\n\n\t\t\t            page : {},\n\n\t\t\t            url : '\/index.php\/Special\/getBrandData',\n\n\t\t\t            init : function(){\n\t\t\t                this.page.limit = config.extend.page.limit;\n\t\t\t                this.page.offset = config.extend.page.offset;\n\t\t\t                \/\/ this.reqData.query = this.more.data('query');\n\t\t\t            },\n\n\t\t\t            render : function(data,res){\n\t\t\t                renderPage(res,this.el);\n\t\t\t            }\n\t\t\t        });\n\t\t\t    });\n\t\t\t}",
				"module_type_id":"product",
				"style_group_id":"30",
				"style_cate_id":"29",
				"style_group":"\u6863\u671f\u697c\u5c42",
				"model":null,
				"extend":null,
				"id":"129",
				"page_data":{"start_time":"2015-05-28 10:00:00","end_time":"2015-05-29 09:59:59"},
				"special_data":{"start_time":"0000-00-00 00:00:00","end_time":"0000-00-00 00:00:00"},
				"floor":"1f",
				"data":[{
					"new_user_sequence": "174",
					"is_supplier": "0",
					"sell_time_from": "1394762400",
					"sell_mark": "3",
					"warehouse": "VIP_BJ",
					"sell_mark_value": "最后疯抢",
					"brand_name": "哈森HARSON女鞋专场1",
					"agio": "<span>2.5</span>折起",
					"special_field": "0",
					"sell_mark_tip": "特卖结束 倒计时",
					"id": 476,
					"seo_description": "",
					"hit": "20140317",
					"index_image": "201403/2014031214471350691.jpg",
					"banner_image_url": "",
					"mobile_image_one": "201403/20140313114234394112.jpg",
					"logo": "201302/2013020716312393012.jpg",
					"brand_store_sn": "10001170",
					"mobile_image_two": "201403/20140313114234222013.jpg",
					"supplier_name": "哈森HARSON女鞋专场",
					"brand_id": "1111",
					"seo_keyword": "",
					"seo_title": "",
					"pms_switch": 0,
					"period": "四十三期",
					"channel_id": "9",
					"sell_time_to": "1395158340",
					"special_field_value": "",
					"sequence": "174",
					"sale_style": "0",
					"freight": "0.00",
					"supplier_to":6,
					"pms_activetips" : "满500减100，上不封顶1"
				},{
					"new_user_sequence": "174",
					"is_supplier": "0",
					"sell_time_from": "1394762400",
					"sell_mark": "3",
					"warehouse": "VIP_BJ",
					"sell_mark_value": "最后疯抢",
					"brand_name": "哈森HARSON女鞋专场2",
					"agio": "<span>2.5</span>折起",
					"special_field": "0",
					"sell_mark_tip": "特卖结束 倒计时",
					"id": 476,
					"seo_description": "",
					"hit": "20140317",
					"index_image": "201403/2014031214471350691.jpg",
					"banner_image_url": "",
					"mobile_image_one": "201403/20140313114234394112.jpg",
					"logo": "201302/2013020716312393012.jpg",
					"brand_store_sn": "10000830",
					"mobile_image_two": "201403/20140313114234222013.jpg",
					"supplier_name": "哈森HARSON女鞋专场",
					"brand_id": "1112",
					"seo_keyword": "",
					"seo_title": "",
					"pms_switch": 0,
					"period": "四十三期",
					"channel_id": "9",
					"sell_time_to": "1395158340",
					"special_field_value": "",
					"sequence": "174",
					"sale_style": "0",
					"freight": "0.00",
					"supplier_to":6,
					"pms_activetips" : "满500减100，上不封顶2"
				},{
					"new_user_sequence": "174",
					"is_supplier": "0",
					"sell_time_from": "1394762400",
					"sell_mark": "3",
					"warehouse": "VIP_BJ",
					"sell_mark_value": "最后疯抢",
					"brand_name": "哈森HARSON女鞋专场3",
					"agio": "<span>2.5</span>折起",
					"special_field": "0",
					"sell_mark_tip": "特卖结束 倒计时",
					"id": 476,
					"seo_description": "",
					"hit": "20140317",
					"index_image": "201403/2014031214471350691.jpg",
					"banner_image_url": "",
					"mobile_image_one": "201403/20140313114234394112.jpg",
					"logo": "201302/2013020716312393012.jpg",
					"brand_store_sn": "10001170",
					"mobile_image_two": "201403/20140313114234222013.jpg",
					"supplier_name": "哈森HARSON女鞋专场",
					"brand_id": "1113",
					"seo_keyword": "",
					"seo_title": "",
					"pms_switch": 0,
					"period": "四十三期",
					"channel_id": "9",
					"sell_time_to": "1395158340",
					"special_field_value": "",
					"sequence": "174",
					"sale_style": "0",
					"freight": "0.00",
					"supplier_to":6,
					"pms_activetips" : "满500减100，上不封顶2"
				},{
					"new_user_sequence": "174",
					"is_supplier": "0",
					"sell_time_from": "1394762400",
					"sell_mark": "3",
					"warehouse": "VIP_BJ",
					"sell_mark_value": "最后疯抢",
					"brand_name": "哈森HARSON女鞋专场4",
					"agio": "<span>2.5</span>折起",
					"special_field": "0",
					"sell_mark_tip": "特卖结束 倒计时",
					"id": 476,
					"seo_description": "",
					"hit": "20140317",
					"index_image": "201403/2014031214471350691.jpg",
					"banner_image_url": "",
					"mobile_image_one": "201403/20140313114234394112.jpg",
					"logo": "201302/2013020716312393012.jpg",
					"brand_store_sn": "10001170",
					"mobile_image_two": "201403/20140313114234222013.jpg",
					"supplier_name": "哈森HARSON女鞋专场",
					"brand_id": "1114",
					"seo_keyword": "",
					"seo_title": "",
					"pms_switch": 0,
					"period": "四十三期",
					"channel_id": "9",
					"sell_time_to": "1395158340",
					"special_field_value": "",
					"sequence": "174",
					"sale_style": "0",
					"freight": "0.00",
					"supplier_to":6,
					"pms_activetips" : "满500减100，上不封顶2"
				}]
				}, {
				"template":"<div class=\"plugin-brand\"><\/div>","css":".tpl-brand-mask{pointer-events:none;}\n.tpl-brand-mask .tpl_pic::before{content:'\u5546\u54c1\u5373\u5c06\u63ed\u6653';position:absolute;top:0;left:0;overflow:hidden;width:100%;height:100%;line-height:9999em;background:rgba(0,0,0,0.5) url(http:\/\/mzt.vip.com\/uploadfiles\/exclusive_subject\/te\/v1\/te15329\/te_res\/images\/icon-mask.png) no-repeat center;background-size:contain; z-index: 1;}\n.tpl-brand-mask .tpl_btn_fav{pointer-events:auto;}\n\n.mzt-o-item .tpl_brand::after, .mzt-o-item .shop_list::after {\n  background: #ff3c80 url(http:\/\/mzt.vip.com\/uploadfiles\/exclusive_subject\/te\/v1\/te15439\/te_res\/images\/last.jpg) no-repeat center;\n  background-size: contain;\n}\n\n.notify-tips {width: 200px; padding: 20px 10px; margin: -25px 0 0 -120px; font-size: 18px; line-height: 30px; text-align: center; color: #fff; background: rgba(0, 0, 0, 0.6); position: fixed; left: 50%; top: 50%; display: none;}","js":"\/\/\u52a0\u8f7d\u66f4\u591a\n\t\t\tvar html = '',\n\t\t\t    isInSale = VIP.isInSale(config.page_data.start_time),\n\t\t\t    wrap = $('<div class=\"mzt-frame-column2 '+ (isInSale ? 'mzt-frame-sale' : 'mzt-frame-view') +'\"> <div class=\"mzt-floor\"> <div class=\"mzt-o-item\"> <div class=\"mzt-list-wrap\"> <div class=\"mzt-list\" data-img-class=\"picbrandlazyload\"> <\/div> <\/div> <\/div> <\/div> <\/div>'),\n\t\t\t    defaultParam = VIP.defaultParam,\n\t\t\t    moreHtml = '<div class=\"u-loading u-more-btn J_pager_more\">\u67e5\u770b\u66f4\u591a\u5546\u54c1<\/div>',\n\t\t\t    intfHost = typeof testEnvironment != 'undefined' ? '' : 'http:\/\/mzt.vip.com',\n\t\t\t    tipsHtml = '<div id=\"J_notify_tips\" class=\"notify-tips\"><\/div>',\n\t\t\t    defaultModel = {\n\t\t\t\t\t\"is_click\" : true,\n\t\t\t\t\t\"is_coupon\" : true,\n\t\t\t\t\t\"is_collect\" : false,\n\t\t\t\t\t\"is_watermark\" : false,\n\t\t\t\t\t\"watermark\" : \"\"\n\t\t\t    },\n\t\t\t    el;\n\n\t\t\t\/\/\u6ca1\u6709\u6570\u636e\u5904\u7406\n\t\t\tif (Array.isArray(config.model) || config.model === false) {\n\t\t\t    return\n\t\t\t}\n\n\t\t\tdom = dom.find('.plugin-brand').attr('data-module-type', config.module_type_id);\n\t\t\twrap.appendTo(dom);\n\t\t\tel = dom.find('.mzt-list:eq(0)');\n\t\t\tif(config.extend){\n\t\t\t\t($('#J_pager_more').length == 0 && config.extend.page.isPaging) && dom.append(moreHtml);\n\t\t\t}\n\n\t\t\t$('#J_notify_tips').length == 0 && dom.append(tipsHtml);\n\n\t\t\t\/\/ \u4e8b\u4ef6\u4ee3\u7406\u7ed9\u7236\u7ea7\n\t\t\tel.bind('click',function (e) {\n\t\t\t    var $target = $(e.target);\n\n\t\t\t    if($target.hasClass('tpl_btn_fav')){\n\t\t\t        e.preventDefault();\n\n\t\t\t        var $parent = $target.parent(),\n\t\t\t            type = $parent.attr('data-favorite-status-brand-action-type'),\n\t\t\t            id = $parent.attr('data-favorite-status-brand-ids'),\n\t\t\t            sn = $parent.attr('data-favorite-status-brand-sn');\n\n\t\t\t        \/\/ \u5f53\u54c1\u724c\u4e0d\u4e3a\u7a7a\u7684\u65f6\u5019\u624d\u80fd\u6536\u85cf\n\t\t\t        if(sn){\n\t\t\t            Collection.setCollection(type,id,sn);\n\t\t\t        }\n\t\t\t    }\n\t\t\t});\n\n\t\t\t\/\/\u68c0\u67e5\u662f\u5426\u4e3a\u6700\u540e\u4e00\u4e2a\u6a21\u5757\n\t\t\tVIP.checkLastModule(config);\n\n\t\t\t\/\/ console.log(config);\n\n\t\t\t\/**\n\t\t\t * \u6536\u85cf\u529f\u80fd Collection\n\t\t\t * notify_tips \u63d0\u793a\u4fe1\u606f\n\t\t\t * getCollectionList \u83b7\u53d6\u7528\u6237\u6536\u85cf\u7684\u54c1\u724c\n\t\t\t * setCollection \u6536\u85cf\/\u53d6\u6d88\u6536\u85cf\u529f\u80fd\n\t\t\t * setCollectionHtml \u6536\u85cf\u540e\u6539\u53d8Html\u7ed3\u6784\n\t\t\t *\/\n\t\t\twindow.Collection = {\n\t\t\t    getCollectionList : function (item_id,client,warehouse) {\n\t\t\t        var url = intfHost + '\/index.php\/Special\/getFavouriteServiceList?verstr='+ defaultParam.verstr;\n\n\t\t\t        $.ajax({\n\t\t\t            url: url,\n\t\t\t            dataType: 'jsonp',\n\t\t\t            jsonpCallback: 'getCollectionListCallback',\n\t\t\t            success: function(data) {\n\t\t\t            \tvar brand = data.data;\n\n\t\t\t            \t$.each(brand,function (key,value) {\n\t\t\t            \t    Collection.setCollectionHtml(value.brand_id,value.brand_store_sn,'add');\n\t\t\t            \t})\n\t\t\t            }\n\t\t\t        });\n\t\t\t    },\n\t\t\t    setCollection : function(type, brand_id, brand_sn) {\n\t\t\t        window.event.preventDefault();\n\n\t\t\t        var _this = this;\n\n\t\t\t        var url = intfHost + '\/index.php\/Special\/favouriteService?verstr='+ defaultParam.verstr +'&act='+ type +'&client=oauth&brand_sn='+ brand_sn +'&brand_id='+ brand_id +'&source=1';\n\n\t\t\t        $.ajax({\n\t\t\t            url: url,\n\t\t\t            dataType: 'jsonp',\n\t\t\t            jsonpCallback : 'setCollectionCallback',\n\t\t\t            success: function(data) {\n\t\t\t            \tvar res,msg;\n\n\t\t\t            \tif(data.result){\n\t\t\t            \t\tres = data.data;\n\n\t\t\t            \t\tif(data.code == 1){\n\t\t\t            \t\t\tif(res.pms_msg){\n\t\t\t            \t\t\t\tmsg = res.pms_msg;\n\t\t\t            \t\t\t}else{\n\t\t\t            \t\t\t\tmsg = res.type == 'add' ? '\u53d6\u6d88\u6536\u85cf\u6210\u529f\uff01' : '\u6536\u85cf\u6210\u529f\uff01';\n\t\t\t            \t\t\t}\n\t\t\t            \t\t}else{\n\t\t\t            \t\t\tmsg = '\u6536\u85cf\u5931\u8d25!\u8bf7\u7a0d\u540e\u518d\u8bd5\u3002';\n\t\t\t            \t\t}\n\n\t\t\t            \t\tVIP.notify_tips(msg, 2000);\n\t\t\t            \t\t_this.setCollectionHtml(res.brand_id,res.brand_sn,type);\n\t\t\t            \t}else{\n\t\t\t            \t\tif (!data.login && data._redirect != '') {\n\t\t\t            \t\t    window.location.href = data._redirect;\n\t\t\t            \t\t    return false;\n\t\t\t            \t\t} else {\n\t\t\t            \t\t    VIP.notify_tips(data.msg, 2000);\n\t\t\t            \t\t}\n\t\t\t            \t}\n\t\t\t            }\n\t\t\t        });\n\t\t\t    },\n\t\t\t    setCollectionHtml : function (id,sn,type) {\n\t\t\t        var $fav = $('[data-favorite-status-brand-ids=' + id + ']');\n\n\t\t\t        if (type == 'add') {\n\t\t\t            $fav.attr('data-favorite-status-brand-action-type', 'cancel');\n\t\t\t            $fav.find('span').addClass('off');\n\t\t\t        } else if (type == 'cancel') {\n\t\t\t            $fav.attr('data-favorite-status-brand-action-type', 'add');\n\t\t\t            $fav.find('span').removeClass('off');\n\t\t\t        }\n\t\t\t    },\n\t\t\t    getCouponStatus : function (brand_ids) {\n\t\t\t        var url = intfHost + '\/index.php\/Special\/getCoupon?brand_ids='+ brand_ids +'&mars_cid='+ defaultParam.mars_cid +'&wap_consumer=' + defaultParam.wap_consumer;\n\n\t\t\t        $.ajax({\n\t\t\t            url: url,\n\t\t\t            dataType: 'jsonp',\n\t\t\t            jsonpCallback : 'getCouponStatusCallback',\n\t\t\t            success: function(data) {\n\t\t\t            \t$.each(data.data,function (key,value) {\n\t\t\t            \t    $('#L_coupon_'+ value).show();\n\t\t\t            \t})\n\t\t\t            }\n\t\t\t        });\n\t\t\t    }\n\t\t\t};\n\n\t\t\t\/\/ \u5206\u9875\u540e\u5904\u7406\u6570\u636e\n\t\t\tfunction renderPage (res,el) {\n\t\t\t    var tmpl = '<div class=\"tpl_brand {{if !is_click}}tpl-brand-mask{{\/if}}\"> <a href=\"${url}\"> <div class=\"tpl_pic\"><img class=\"picbrandlazyload\" src=\"${mobile_image_two}\" style=\"display: block;\"><span class=\"s_info_desc\">${pms_activetips}<\/span><span id=\"L_coupon_${brand_id}\" class=\"coupon\" style=\"display:none;\"><\/span><\/div> <div class=\"tpl_brand_msg rposition\"> <p class=\"tpl_brand_name\">${brand_name}<\/p> <p class=\"tpl_brand_discount\"><span class=\"salebg2\">{{html agio}}<\/p> {{if is_collect}} <p class=\"tpl_brand_fav\"><span class=\"brand_fav_num\" id=\"L_favorite_${brand_id}\" data-favorite-brand-ids=\"${brand_id}\" data-favorite-brand-sn=\"${brand_store_sn}\">0<\/span><span id=\"L_favorite_txt${brand_id}\" data-favorite-txt-brand-sn=\"${brand_store_sn}\">\u4eba\u6536\u85cf<\/span><\/p> {{\/if}} <\/div> {{if !isInSale}}<span data-favorite-status-brand-sn=\"${brand_store_sn}\" data-favorite-status-brand-ids=\"${brand_id}\" data-favorite-status-brand-action-type=\"add\" id=\"L_favorite_status_${brand_id}\"><span class=\"tpl_btn_fav\"><\/span><\/span>{{\/if}}  <\/a> <\/div>',\n\t\t\t        frag = document.createDocumentFragment(),\n\t\t\t        brands = [],\n\t\t\t        offset = res.extend ? 0 : (res.page ? res.page.offset : 0),\n\t\t\t        html ;\n\n\t\t\t    $.each(res.data, function(i) {\n\t\t\t    \tvar index = offset + i,\n\t\t\t    \t\tlist = config.model ? config.model.list[index] : defaultModel;\n\n\t\t\t        this.url = 'http:\/\/m.vip.com\/preheating-brand-' + this.brand_id + '-0-0-1-40.html';\n\n\t\t\t        this.mobile_image_two = 'http:\/\/a.appsimg.com\/upload\/brand\/' + VIP.getClientImageSrc(this.mobile_image_two);\n\n\t\t\t        $.extend(this, list, {isInSale : isInSale});\n\n\t\t\t        if(this.is_coupon){\n\t\t\t            brands.push(this.brand_id);\n\t\t\t        }\n\n\t\t\t        html = $.tmpl(tmpl, this);\n\n\t\t\t        $(frag).append(html);\n\t\t\t    });\n\n\t\t\t    el.append(frag);\n\n\t\t\t    if(!isInSale){\n\t\t\t        Collection.getCollectionList(defaultParam.item_id,defaultParam.client,defaultParam.warehouse);\n\n\t\t\t        \/\/ \u5f53\u540e\u53f0\u6709\u8bbe\u7f6e\u663e\u793a\u7ea2\u5305\u7684\u72b6\u6001\uff0c\u624d\u5339\u914d\u7ea2\u5305\u72b6\u6001\n\t\t\t        if(brands.length > 0){\n\t\t\t            Collection.getCouponStatus(brands);\n\t\t\t        }\n\t\t\t    }\n\t\t\t};\n\n\t\t\t\/\/ \u9996\u6b21\u52a0\u8f7d\u8c03\u7528\uff0c\u9ed8\u8ba4\u663e\u793a\u6570\u636e\n\t\t\trenderPage(config,el);\n\n\t\t\t\/\/ \u5f53\u6863\u671f\u8bbe\u7f6e\u4e86\u5206\u9875\u7684\u65f6\u5019\uff0c\u624d\u4f1a\u6709\u6eda\u52a8\u52a0\u8f7d\u529f\u80fd\n\t\t\tif(config.isLast && config.extend && config.extend.page.isPaging){\n\t\t\t    VIP.loadScript('\/demo\/js\/page.js',function () {\n\t\t\t        VIP.pager.config({\n\t\t\t            el : el,\n\n\t\t\t            reqData : {\n\t\t\t            \tpage_id : config.page_data.page_id,\n\t\t\t            \tfloor : config.floor\n\t\t\t            },\n\n\t\t\t            page : {},\n\n\t\t\t            url : '\/index.php\/Special\/getBrandData',\n\n\t\t\t            init : function(){\n\t\t\t                this.page.limit = config.extend.page.limit;\n\t\t\t                this.page.offset = config.extend.page.offset;\n\t\t\t                \/\/ this.reqData.query = this.more.data('query');\n\t\t\t            },\n\n\t\t\t            render : function(data,res){\n\t\t\t                renderPage(res,this.el);\n\t\t\t            }\n\t\t\t        });\n\t\t\t    });\n\t\t\t}","module_type_id":"brand","style_group_id":"30","style_cate_id":"29","style_group":"\u6863\u671f\u697c\u5c42","model":null,"extend":null,"id":"129","page_data":{"start_time":"2015-05-28 10:00:00","end_time":"2015-05-29 09:59:59"},"special_data":{"start_time":"0000-00-00 00:00:00","end_time":"0000-00-00 00:00:00"},"floor":"1f",
				"data":[{
					"new_user_sequence": "174",
					"is_supplier": "0",
					"sell_time_from": "1394762400",
					"sell_mark": "3",
					"warehouse": "VIP_BJ",
					"sell_mark_value": "最后疯抢",
					"brand_name": "哈森HARSON女鞋专场1",
					"agio": "<span>2.5</span>折起",
					"special_field": "0",
					"sell_mark_tip": "特卖结束 倒计时",
					"id": 476,
					"seo_description": "",
					"hit": "20140317",
					"index_image": "201403/2014031214471350691.jpg",
					"banner_image_url": "",
					"mobile_image_one": "201403/20140313114234394112.jpg",
					"logo": "201302/2013020716312393012.jpg",
					"brand_store_sn": "10001170",
					"mobile_image_two": "201403/20140313114234222013.jpg",
					"supplier_name": "哈森HARSON女鞋专场",
					"brand_id": "1111",
					"seo_keyword": "",
					"seo_title": "",
					"pms_switch": 0,
					"period": "四十三期",
					"channel_id": "9",
					"sell_time_to": "1395158340",
					"special_field_value": "",
					"sequence": "174",
					"sale_style": "0",
					"freight": "0.00",
					"supplier_to":6,
					"pms_activetips" : "满500减100，上不封顶1"
				},{
					"new_user_sequence": "174",
					"is_supplier": "0",
					"sell_time_from": "1394762400",
					"sell_mark": "3",
					"warehouse": "VIP_BJ",
					"sell_mark_value": "最后疯抢",
					"brand_name": "哈森HARSON女鞋专场2",
					"agio": "<span>2.5</span>折起",
					"special_field": "0",
					"sell_mark_tip": "特卖结束 倒计时",
					"id": 476,
					"seo_description": "",
					"hit": "20140317",
					"index_image": "201403/2014031214471350691.jpg",
					"banner_image_url": "",
					"mobile_image_one": "201403/20140313114234394112.jpg",
					"logo": "201302/2013020716312393012.jpg",
					"brand_store_sn": "10000830",
					"mobile_image_two": "201403/20140313114234222013.jpg",
					"supplier_name": "哈森HARSON女鞋专场",
					"brand_id": "1112",
					"seo_keyword": "",
					"seo_title": "",
					"pms_switch": 0,
					"period": "四十三期",
					"channel_id": "9",
					"sell_time_to": "1395158340",
					"special_field_value": "",
					"sequence": "174",
					"sale_style": "0",
					"freight": "0.00",
					"supplier_to":6,
					"pms_activetips" : "满500减100，上不封顶2"
				},{
					"new_user_sequence": "174",
					"is_supplier": "0",
					"sell_time_from": "1394762400",
					"sell_mark": "3",
					"warehouse": "VIP_BJ",
					"sell_mark_value": "最后疯抢",
					"brand_name": "哈森HARSON女鞋专场3",
					"agio": "<span>2.5</span>折起",
					"special_field": "0",
					"sell_mark_tip": "特卖结束 倒计时",
					"id": 476,
					"seo_description": "",
					"hit": "20140317",
					"index_image": "201403/2014031214471350691.jpg",
					"banner_image_url": "",
					"mobile_image_one": "201403/20140313114234394112.jpg",
					"logo": "201302/2013020716312393012.jpg",
					"brand_store_sn": "10001170",
					"mobile_image_two": "201403/20140313114234222013.jpg",
					"supplier_name": "哈森HARSON女鞋专场",
					"brand_id": "1113",
					"seo_keyword": "",
					"seo_title": "",
					"pms_switch": 0,
					"period": "四十三期",
					"channel_id": "9",
					"sell_time_to": "1395158340",
					"special_field_value": "",
					"sequence": "174",
					"sale_style": "0",
					"freight": "0.00",
					"supplier_to":6,
					"pms_activetips" : "满500减100，上不封顶2"
				},{
					"new_user_sequence": "174",
					"is_supplier": "0",
					"sell_time_from": "1394762400",
					"sell_mark": "3",
					"warehouse": "VIP_BJ",
					"sell_mark_value": "最后疯抢",
					"brand_name": "哈森HARSON女鞋专场4",
					"agio": "<span>2.5</span>折起",
					"special_field": "0",
					"sell_mark_tip": "特卖结束 倒计时",
					"id": 476,
					"seo_description": "",
					"hit": "20140317",
					"index_image": "201403/2014031214471350691.jpg",
					"banner_image_url": "",
					"mobile_image_one": "201403/20140313114234394112.jpg",
					"logo": "201302/2013020716312393012.jpg",
					"brand_store_sn": "10001170",
					"mobile_image_two": "201403/20140313114234222013.jpg",
					"supplier_name": "哈森HARSON女鞋专场",
					"brand_id": "1114",
					"seo_keyword": "",
					"seo_title": "",
					"pms_switch": 0,
					"period": "四十三期",
					"channel_id": "9",
					"sell_time_to": "1395158340",
					"special_field_value": "",
					"sequence": "174",
					"sale_style": "0",
					"freight": "0.00",
					"supplier_to":6,
					"pms_activetips" : "满500减100，上不封顶2"
				}]
				},{
				"id": 11,
				"name": "模块111",
				"template": "<div class=\"plugin-product\">111</div><br><br><br><br><br><br><br><br><br><br><br><br><br>",
				"css": "",
				"js": "",
				"page_type_id": 0,
				"module_type_id": "product",
				"page_data" : {
					"page_id" : "73",
					"start_time" : "2015-06-10 18:00:00",
					"end_time" : "2015-06-20 09:59:59"
				},
				"data": [null,
					{
		                "vipshop_price": "2168",
		                "cat_id": "80001002",
		                "product_id": "20039215",
		                "market_price": "4335",
		                "little_image": null,
		                "small_image": "http://sp.vip.com/upload/merchandise/150628/GANT-12S476414-405-5.jpg",
		                "product_name": "女款藏蓝/米色OL气质条纹长袖外套",
		                "brand_id": "150628",
		                "sale_out": 0,
		                "img_pre": [
		                    {
		                        "s_img": "http://sp.vip.com/upload/merchandise/150628/GANT-12S476414-405-1_2.jpg",
		                        "m_img": "http://sp.vip.com/upload/merchandise/150628/GANT-12S476414-405-1_1.jpg",
		                        "b_img": "http://sp.vip.com/upload/merchandise/150628/GANT-12S476414-405-1.jpg"
		                    },
		                    {
		                        "s_img": "http://sp.vip.com/upload/merchandise/150628/GANT-12S476414-405-4_2.jpg",
		                        "m_img": "http://sp.vip.com/upload/merchandise/150628/GANT-12S476414-405-4_1.jpg",
		                        "b_img": "http://sp.vip.com/upload/merchandise/150628/GANT-12S476414-405-4.jpg"
		                    }
		                ],
		                "special_price": "98",
		                "fav_price": "6",
		                "agio": "5折",
		                "is_3d": "0",
		                "icons": [
		                    {
		                        "id": 10,
		                        "name": "国际大牌",
		                        "image": "http://pic.vip.com/a.jpg",
		                        "sort": 1
		                    },
		                    {
		                        "id": 10,
		                        "name": "海外直发",
		                        "image": "http://pic.vip.com/b.jpg",
		                        "sort": 2
		                    }
		                ]
		            },
		            {
		                "vipshop_price": "1998",
		                "cat_id": "80001002",
		                "product_id": "20039241",
		                "market_price": "3995",
		                "little_image": null,
		                "small_image": "http://sp.vip.com/upload/merchandise/150628/GANT-12S70102-121-5.jpg",
		                "product_name": "男款白色帅气时尚长袖茄克",
		                "brand_id": "150628",
		                "sale_out": 0,
		                "img_pre": [
		                    {
		                        "s_img": "http://sp.vip.com/upload/merchandise/150628/GANT-12S70102-121-1_2.jpg",
		                        "m_img": "http://sp.vip.com/upload/merchandise/150628/GANT-12S70102-121-1_1.jpg",
		                        "b_img": "http://sp.vip.com/upload/merchandise/150628/GANT-12S70102-121-1.jpg"
		                    },
		                    {
		                        "s_img": "http://sp.vip.com/upload/merchandise/150628/GANT-12S70102-121-2_2.jpg",
		                        "m_img": "http://sp.vip.com/upload/merchandise/150628/GANT-12S70102-121-2_1.jpg",
		                        "b_img": "http://sp.vip.com/upload/merchandise/150628/GANT-12S70102-121-2.jpg"
		                    },
		                    {
		                        "s_img": "http://sp.vip.com/upload/merchandise/150628/GANT-12S70102-121-3_2.jpg",
		                        "m_img": "http://sp.vip.com/upload/merchandise/150628/GANT-12S70102-121-3_1.jpg",
		                        "b_img": "http://sp.vip.com/upload/merchandise/150628/GANT-12S70102-121-3.jpg"
		                    },
		                    {
		                        "s_img": "http://sp.vip.com/upload/merchandise/150628/GANT-12S70102-121-4_2.jpg",
		                        "m_img": "http://sp.vip.com/upload/merchandise/150628/GANT-12S70102-121-4_1.jpg",
		                        "b_img": "http://sp.vip.com/upload/merchandise/150628/GANT-12S70102-121-4.jpg"
		                    }
		                ],
		                "special_price": "98",
		                "fav_price": "6",
		                "agio": "5折",
		                "is_3d": "1"
		            },
		            {
		                "vipshop_price": "348",
		                "cat_id": "10201002",
		                "product_id": "20039070",
		                "market_price": "695",
		                "little_image": null,
		                "small_image": "http://sp.vip.com/upload/merchandise/150628/GANT-12S234161-617-5.jpg",
		                "product_name": "男款红/蓝色圆领条纹舒适短袖T恤",
		                "brand_id": "150628",
		                "sale_out": 0,
		                "img_pre": [
		                    {
		                        "s_img": "http://sp.vip.com/upload/merchandise/150628/GANT-12S234161-617-1_2.jpg",
		                        "m_img": "http://sp.vip.com/upload/merchandise/150628/GANT-12S234161-617-1_1.jpg",
		                        "b_img": "http://sp.vip.com/upload/merchandise/150628/GANT-12S234161-617-1.jpg"
		                    },
		                    {
		                        "s_img": "http://sp.vip.com/upload/merchandise/150628/GANT-12S234161-617-2_2.jpg",
		                        "m_img": "http://sp.vip.com/upload/merchandise/150628/GANT-12S234161-617-2_1.jpg",
		                        "b_img": "http://sp.vip.com/upload/merchandise/150628/GANT-12S234161-617-2.jpg"
		                    },
		                    {
		                        "s_img": "http://sp.vip.com/upload/merchandise/150628/GANT-12S234161-617-3_2.jpg",
		                        "m_img": "http://sp.vip.com/upload/merchandise/150628/GANT-12S234161-617-3_1.jpg",
		                        "b_img": "http://sp.vip.com/upload/merchandise/150628/GANT-12S234161-617-3.jpg"
		                    },
		                    {
		                        "s_img": "http://sp.vip.com/upload/merchandise/150628/GANT-12S234161-617-4_2.jpg",
		                        "m_img": "http://sp.vip.com/upload/merchandise/150628/GANT-12S234161-617-4_1.jpg",
		                        "b_img": "http://sp.vip.com/upload/merchandise/150628/GANT-12S234161-617-4.jpg"
		                    }
		                ],
		                "special_price": "98",
		                "fav_price": "6",
		                "agio": "5折"
		            }],
				"model": {
					"list": [{
						"brand_id": "151256",
						"product_id": "1512561111",
						"is_watermark" : "false",
						"watermark" : ""
					},{
						"brand_id": "410528",
						"product_id": "15125611122",
						"is_watermark" : "false",
						"watermark" : ""
					}]
				},
				"isLast" : true,
				"extend" : {
					"page" : {
						"isPaging" : "true",
	             		"limit" : 10,
	             		"offset" : 10
					}
				}
			}, {
				"id": 11,
				"name": "模块111",
				"template": "<br><br><br><br><br><br><br><br><br><br><br><br><br><div class=\"wrapper\" id=\"specialContent\"><div class=\"plugin-dangqi\" style=\"overflow:hidden\"></div><div class=\"u-loading u-more-btn J_pager_more\" data-query=\"20858-0-0-0-0\">查看更多商品</div><div id=\"J_notify_tips\" class=\"notify-tips\"></div></div>",
				"css": ".tpl-brand-mask{pointer-events:none;} .tpl-brand-mask .tpl_pic::before{content:'商品即将揭晓';position:absolute;top:0;left:0;overflow:hidden;width:100%;height:100%;line-height:9999em;background:rgba(0,0,0,0.5) url(http://mzt.vip.com/uploadfiles/exclusive_subject/te/v1/te15329/te_res/images/icon-mask.png) no-repeat center;background-size:contain; z-index: 1;} .tpl-brand-mask .tpl_btn_fav{pointer-events:auto;} .notify-tips {width: 200px; padding: 20px 10px; margin: -25px 0 0 -120px; font-size: 18px; line-height: 30px; text-align: center; color: #fff; background: rgba(0, 0, 0, 0.6); position: fixed; left: 50%; top: 50%; display: none;}.mzt-o-item .tpl_brand::after, .mzt-o-item .shop_list::after {background: #ff3c80 url(http://mzt.vip.com/uploadfiles/exclusive_subject/te/v1/te15439/te_res/images/last.jpg) no-repeat center; background-size: contain;}",
            	"js": "",
				"page_type_id": 0,
				"module_type_id": "brand",
				"style_group_id": 11,
				"style_group": "样式A",
				"data": [{
					"new_user_sequence": "174",
					"is_supplier": "0",
					"sell_time_from": "1394762400",
					"sell_mark": "3",
					"warehouse": "VIP_BJ",
					"sell_mark_value": "最后疯抢",
					"brand_name": "哈森HARSON女鞋专场1",
					"agio": "<span>2.5</span>折起",
					"special_field": "0",
					"sell_mark_tip": "特卖结束 倒计时",
					"id": 476,
					"seo_description": "",
					"hit": "20140317",
					"index_image": "201403/2014031214471350691.jpg",
					"banner_image_url": "",
					"mobile_image_one": "201403/20140313114234394112.jpg",
					"logo": "201302/2013020716312393012.jpg",
					"brand_store_sn": "10001170",
					"mobile_image_two": "201403/20140313114234222013.jpg",
					"supplier_name": "哈森HARSON女鞋专场",
					"brand_id": "1111",
					"seo_keyword": "",
					"seo_title": "",
					"pms_switch": 0,
					"period": "四十三期",
					"channel_id": "9",
					"sell_time_to": "1395158340",
					"special_field_value": "",
					"sequence": "174",
					"sale_style": "0",
					"freight": "0.00",
					"supplier_to":6,
					"pms_activetips" : "满500减100，上不封顶1"
				},{
					"new_user_sequence": "174",
					"is_supplier": "0",
					"sell_time_from": "1394762400",
					"sell_mark": "3",
					"warehouse": "VIP_BJ",
					"sell_mark_value": "最后疯抢",
					"brand_name": "哈森HARSON女鞋专场2",
					"agio": "<span>2.5</span>折起",
					"special_field": "0",
					"sell_mark_tip": "特卖结束 倒计时",
					"id": 476,
					"seo_description": "",
					"hit": "20140317",
					"index_image": "201403/2014031214471350691.jpg",
					"banner_image_url": "",
					"mobile_image_one": "201403/20140313114234394112.jpg",
					"logo": "201302/2013020716312393012.jpg",
					"brand_store_sn": "10000830",
					"mobile_image_two": "201403/20140313114234222013.jpg",
					"supplier_name": "哈森HARSON女鞋专场",
					"brand_id": "1112",
					"seo_keyword": "",
					"seo_title": "",
					"pms_switch": 0,
					"period": "四十三期",
					"channel_id": "9",
					"sell_time_to": "1395158340",
					"special_field_value": "",
					"sequence": "174",
					"sale_style": "0",
					"freight": "0.00",
					"supplier_to":6,
					"pms_activetips" : "满500减100，上不封顶2"
				},{
					"new_user_sequence": "174",
					"is_supplier": "0",
					"sell_time_from": "1394762400",
					"sell_mark": "3",
					"warehouse": "VIP_BJ",
					"sell_mark_value": "最后疯抢",
					"brand_name": "哈森HARSON女鞋专场3",
					"agio": "<span>2.5</span>折起",
					"special_field": "0",
					"sell_mark_tip": "特卖结束 倒计时",
					"id": 476,
					"seo_description": "",
					"hit": "20140317",
					"index_image": "201403/2014031214471350691.jpg",
					"banner_image_url": "",
					"mobile_image_one": "201403/20140313114234394112.jpg",
					"logo": "201302/2013020716312393012.jpg",
					"brand_store_sn": "10001170",
					"mobile_image_two": "201403/20140313114234222013.jpg",
					"supplier_name": "哈森HARSON女鞋专场",
					"brand_id": "1113",
					"seo_keyword": "",
					"seo_title": "",
					"pms_switch": 0,
					"period": "四十三期",
					"channel_id": "9",
					"sell_time_to": "1395158340",
					"special_field_value": "",
					"sequence": "174",
					"sale_style": "0",
					"freight": "0.00",
					"supplier_to":6,
					"pms_activetips" : "满500减100，上不封顶2"
				},{
					"new_user_sequence": "174",
					"is_supplier": "0",
					"sell_time_from": "1394762400",
					"sell_mark": "3",
					"warehouse": "VIP_BJ",
					"sell_mark_value": "最后疯抢",
					"brand_name": "哈森HARSON女鞋专场4",
					"agio": "<span>2.5</span>折起",
					"special_field": "0",
					"sell_mark_tip": "特卖结束 倒计时",
					"id": 476,
					"seo_description": "",
					"hit": "20140317",
					"index_image": "201403/2014031214471350691.jpg",
					"banner_image_url": "",
					"mobile_image_one": "201403/20140313114234394112.jpg",
					"logo": "201302/2013020716312393012.jpg",
					"brand_store_sn": "10001170",
					"mobile_image_two": "201403/20140313114234222013.jpg",
					"supplier_name": "哈森HARSON女鞋专场",
					"brand_id": "1114",
					"seo_keyword": "",
					"seo_title": "",
					"pms_switch": 0,
					"period": "四十三期",
					"channel_id": "9",
					"sell_time_to": "1395158340",
					"special_field_value": "",
					"sequence": "174",
					"sale_style": "0",
					"freight": "0.00",
					"supplier_to":6,
					"pms_activetips" : "满500减100，上不封顶2"
				}],
				"model": {
					"list": [{
						"brand_id": "151256",
						"brand_name": "圣诞节卡机看将扩大是",
						"is_click" : true,
						"is_coupon" : true,
						"is_collect" : true,
						"is_watermark" : false,
						"watermark" : ""
					},{
						"brand_id": "407877",
						"brand_name": "过节费打飞机看电视",
						"is_click" : false,
						"is_coupon" : false,
						"is_collect" : true,
						"is_watermark" : false,
						"watermark" : "http://www.baidu.com"
					}],
					"batch": {
						"is_click" : true,
						"is_coupon" : true,
						"is_collect" : true,
						"is_watermark": true,
						"watermark" : "http://www.google.com"
					}

				},
				"extend" : {
					"list": [],
					"page" : {
						"isPaging" : true,
	             		"limit" : 10,
	             		"offset" : 10
					}
				}
			}, {
				"id": 11,
				"name": "模块111",
				"template": "<div class=\"plugin-pingou\"></div>",
				"css": ".plugin-pingou img {max-width: 100%;} .plugin-pingou { width: 100%; margin: 0 auto; position: relative;} .plugin-pingou .link { position: absolute; background: #000;}",
            	"js": "(function (){\n\treturn function(dom, config){\n\t\t\tvar tmpl = '<a target=\"{{if isBlank}}_blank{{else}}_parent{{\/if}}\" href=\"${url}\" class=\"link\" style=\"position:absolute;left:${left}px;top:${top}px; width:${width}px; height:${height}px;\"><\/a>',\n\t\t\thtml = '',\n\t\t\timg = $('<img>'),\n\t\t\tdom = dom.find('.plugin-pingou'),\n\t\t\tlist;\n\t\tif(Array.isArray(config.model) || config.model === false){\n\t\t\treturn\n\t\t}\n\t\timg.appendTo(dom)\n\t\t\t.attr('src', config.model && config.model.phone_pic_src)\n\t\t\t.load(function(){\n\t\t\t\tlist = config.model && config.model.list;\n\t\t\t\tif(!list) return false;\n\t\t\t\t$.each(config.model.list, function (k, v) {\n\t\t\t\t\tif(v.position != undefined){\n\t\t\t\t\t\tv.url = config.data && config.data[k];\n\t\t\t\t\t\tv.isBlank = true;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\thtml = $.tmpl(tmpl, list);\n\t\t\tdom.append(html);\n\t\t})\n\t}\n})()",
				"page_type_id": 0,
				"module_type_id": "head",
				"style_group_id": 11,
				"style_group": "样式A",
				"data": ["http://www.baidu.com/id=1", "", "http://www.google.com"],
				"model": {
					"phone_pic_src": "/demo/image/pg.png",
					"pad_pic_src": "/demo/image/pg.png",
					"anchor": "pic",
					"list": [{
						"left": "20%",
						"top": "10%",
						"width": "10%",
						"height": "10%",
						"type": 1,
						"url": "http://www.baidu.com",
						"title": "xxxxxx专场",
						"isBlank": true
					}, {
						"left": "20%",
						"top": "30%",
						"width": "10%",
						"height": "10%",
						"type": 2,
						"brand_id": 234234
					}, {
						"left": "20%",
						"top": "50%",
						"width": "10%",
						"height": "10%",
						"type": 3,
						"brand_id": 2342,
						"product_id": 323
					}, {
						"left": "20%",
						"top": "75%",
						"width": "10%",
						"height": "10%",
						"type": 4,
						"anchor": "pic"				
					}]
				}
			}, {

				"id": 12,
				"name": "模块111",
				"template": "<div class=\"plugin-pingou\"></div>",
				"css": ".plugin-pingou img {max-width: 100%;} .plugin-pingou { width: 100%; margin: 0 auto; position: relative;} .plugin-pingou .link { position: absolute; background: #000;}",
            	"js": "(function (){\n\treturn function(dom, config){\n\t\t\tvar tmpl = '<a target=\"{{if isBlank}}_blank{{else}}_parent{{\/if}}\" href=\"${url}\" class=\"link\" style=\"position:absolute;left:${left}px;top:${top}px; width:${width}px; height:${height}px;\"><\/a>',\n\t\t\thtml = '',\n\t\t\timg = $('<img>'),\n\t\t\tdom = dom.find('.plugin-pingou'),\n\t\t\tlist;\n\t\tif(Array.isArray(config.model) || config.model === false){\n\t\t\treturn\n\t\t}\n\t\timg.appendTo(dom)\n\t\t\t.attr('src', config.model && config.model.phone_pic_src)\n\t\t\t.load(function(){\n\t\t\t\tlist = config.model && config.model.list;\n\t\t\t\tif(!list) return false;\n\t\t\t\t$.each(config.model.list, function (k, v) {\n\t\t\t\t\tif(v.position != undefined){\n\t\t\t\t\t\tv.url = config.data && config.data[k];\n\t\t\t\t\t\tv.isBlank = true;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\thtml = $.tmpl(tmpl, list);\n\t\t\tdom.append(html);\n\t\t})\n\t}\n})()",
				"page_type_id": 0,
				"module_type_id": "purchase",
				"data": ["http://www.baidu.com/id=1", "", "http://www.google.com"],
				"model": {
					"phone_pic_src": "/demo/image/pg.png",
					"pad_pic_src": "/demo/image/pg.png",
					"list": [{
						"left": "10%",
						"top": 50,
						"width": "10%",
						"height": "10%",
						"position": 5
					}, {
						"left": "10%",
						"top": "20%",
						"width": "10%",
						"height": "10%",
						"position": 1
					}, {
						"left": "10%",
						"top": "30%",
						"width": "10%",
						"height": "10%",
						"url": "http://www.163.com",
						"isBlank": true
					}, {
						"left": "10%",
						"top": 250,
						"width": "10%",
						"height": "10%",
						"url": "http://www.baidu.com",
						"isBlank": false						
					}, {
						"left": 100,
						"top": 250,
						"width": "10%",
						"height": "10%",
						"position": 3
					}]
				}
				
			}]
		} ,
	"result": true,
	"code": 1,
	"msg": "成功"
}